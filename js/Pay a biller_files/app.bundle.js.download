webpackJsonp([0],[,function(e,t,n){"use strict";(function(e,r,o,a){Object.defineProperty(t,"__esModule",{value:!0});var i=n(26),s=n(3),c=n(27),p=function(){function t(){this.config={}}return t.log=function(e,t){void 0===t&&(t=""),i.environment.production||console.log(e,t)},t.error=function(e,t){void 0===t&&(t=""),i.environment.production||console.error(e,t)},t.randomId=function(){return c().replace(/-/g,"")},t.isPhone=function(){return e.phone},t.stripSpaces=function(e){if(e)return e.replace(/\s+/g,"")},t.formatCurrency=function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t[1]&&1===t[1].length&&(t[1]=t[1]+"0"),t.join(".")},t.getQueryParameters=function(e){void 0===e&&(e=window.location.search);for(var t={},n=e,r=n.substr(1).split("&"),o=0;o<r.length;o++){var a=r[o].split("="),i=decodeURIComponent(a[1]||"");i=i.length>0?i:null,t[decodeURIComponent(a[0])]=i}return t},t.stripHTML=function(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""},t.extractServerError=function(e){if(e&&e.responseJSON){var t=e.responseJSON;return t&&t.responseData[0]}return{}},t.extractServerData=function(e){return e.body?e.body.responseData[0]||{}:e.responseData[0]||{}},t.clearAllTimersAndIntervals=function(){for(var e=window.setTimeout(function(){},0);e--;)window.clearTimeout(e);for(e=window.setInterval(function(){},0);e--;)window.clearInterval(e)},t.registerFormatPanHelperFn=function(){r.registerHelper("rmFormatPan",function(e,n){return e?t.formatPanValue(e)||e:e})},t.registerTenaryHelperFn=function(){r.registerHelper("ternary",function(e,t,n){return("function"==typeof e?e.call(this):e)?t:n})},t.registerGreaterThanHelperFn=function(){r.registerHelper("greaterThan",function(e,t,n){return e>t?n.fn(this):n.inverse(this)})},t.registerAddHelperFn=function(){r.registerHelper("add",function(e,t,n){return isNaN(e)||isNaN(t)?"string"==typeof e&&"string"==typeof t?e+t:"NANB":Number(e)+Number(t)})},t.registerToLowercaseHelper=function(){r.registerHelper("toLowerCase",function(e){return e.toLowerCase()})},t.padMonthValue=function(e){return e.toString().length<2?"0"+e:e.toString()},t.formatPanValue=function(e){for(var t=e.toString().replace(/\s+/g,""),n=t.match(/\w{4,20}/g),r=n&&n[0]||"",o=[],a=0,i=r.length;a<i;a+=4)o.push(r.substring(a,a+4));return o.length?o.join(" "):e},t.getFormattedPanValue=function(e){return e.replace(/\s+/g,"")},t.prototype.getPaymentParameters=function(e){return t.extractServerData(e).paymentResponseParameters},t.prototype.getPaymentReference=function(e){return this.getPaymentParameters(e).filter(function(e){return e.name===s.PAYMENT_REFERENCE_KEY})[0].defaultValue},t.stripNullValue=function(e){return e&&"null"!=e?e:""},t.prototype.registerTransactionHelperFn=function(e){r.registerHelper("transaction",function(n,r){switch(n){case"currency":return e.currency||"NGN";case"amount":return t.formatCurrency(e.totalAmount);case"label":return t.stripHTML(e.label);case"narration":return t.stripHTML(e.narration||"");case"cardTotalAmount":return t.formatCurrency(e.totalAmountByPaymentChannel.card.totalAmount)||t.formatCurrency(e.totalAmount);default:return t.stripNullValue(e[n])}})},t.prototype.copyToClipboard=function(e){var t=e.target.innerText||null,n=o(e.target).prev();if(t){n.tooltip({trigger:"manual",title:"Copied!"});var r=o("<textarea />");r.val(t).css({width:"0px",height:"0px",border:"none",visibility:"none"}).appendTo("body"),r.focus().select();try{if(document.execCommand("copy"))return n.tooltip("show"),setTimeout(function(){n.tooltip("hide")},500),r.remove(),!0}catch(e){console.log(e)}return r.remove(),!1}},t.prototype.initGlobalHelperMethods=function(e){var t=this;String.prototype.toTitleCase=function(){var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;return this.replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(t,n,r){return n>0&&n+t.length!==r.length&&t.search(e)>-1&&":"!==r.charAt(n-2)&&("-"!==r.charAt(n+t.length)||"-"===r.charAt(n-1))&&r.charAt(n-1).search(/[^\s-]/)<0?t.toLowerCase():t.substr(1).search(/[A-Z]|\../)>-1?t:t.charAt(0).toUpperCase()+t.substr(1)})},this.registerTransactionHelperFn(e),Promise.prototype.spread||(Promise.prototype.spread=function(e){return this.then(function(e){return Promise.all(e)}).then(function(t){return e.apply(this,t)})}),a.validator.addClassRules("jv-pin",{required:!0,minlength:4,maxlength:4}),a.validator.addClassRules("jv-otp",{required:!0}),o(document).off("copy paste").on("copy paste",".disable-copy-paste",function(e){e.preventDefault()}),o(document).off("click",".js-clip-item").on("click",".js-clip-item",function(e){return t.copyToClipboard(e)}),o(document).off("keydown").on("keydown",".cc-pin",function(e){var t=o(e.target).val(),n=e.keyCode||e.which,r=[37,38,39,40,8,46];if(4==t.length)return r.indexOf(n)>-1||(e.preventDefault(),!1)})},t}();t.UtilService=p}).call(t,n(14),n(4),n(0),n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){e&&(this.pan=e.pan||"",this.key=e.key||"",this.bankCode=e.bankCode||"",this.accountNumber=e.accountNumber||"",this.transactionId=e.transactionId||"")}return e}();t.PaymentHeaderData=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,a=n(24),i=a.prepareConfig();r=i.siteUrl||null,o=i.customApiBaseUrl||null,t.API_BASE_URL=i.apiBaseUrl||null,t.PAYMENT_ID_HEADER_KEY="paymentId",t.PAYMENT_REFERENCE_KEY="_remitaPaymentRef",t.TRANSACTION_TIMEOUT_DURATION_3DS=18e4,t.TRANSACTION_PROCESSED_INTERVAL=5e3,t.CLOSE_INLINE_TIMEOUT_VALUE=1e3,t.MERCHANT_HEADER_KEY="publicKey",t.TRANSACTION_ID_HEADER_KEY="transactionId",t.API_URL={cookieTestUrl:"https://crayon.remita.co/test-iframe/start.html",paymentBaseUrl:o+"/payment",bankPaymentBaseUrl:o+"/payment",qrCodeBaseUrl:o+"/payment",ussdCodeBaseUrl:o+"/payment",ibankCodeBaseUrl:o+"/payment",walletCodeBaseUrl:o+"/payment",creditPaymentBaseUrl:o+"/payment",paymentProcessBaseUrl:o,preRequestUrl:o+"/pre_request",handleBarTemplates:r+"/assets/templates/components.hbs",remitaApiUrl:t.API_BASE_URL,chargeValidate:t.API_BASE_URL+"/payment/charge/validate",paymentRequery:t.API_BASE_URL+"/payment/requery/",paymentRequeryStatus:t.API_BASE_URL+"/payment/requery/status/",validateTransaction:t.API_BASE_URL+"/validate/transaction/",validateCardConfig:t.API_BASE_URL+"/validate/card/config/",bankAVS:o+"/payment/account/avs",channelRequestUrl:t.API_BASE_URL+"/channel"},t.MESSAGES={defaultError:"An error has occurred. Please try again later.",internetConnectionError:"Can't connect to the server. Please confirm that you have internet connection and try again.",defaultServerError:"Oops. There's a problem with our servers (ERROR_RESPONSE_STATUS error). Please try again in a few minutes.",transactionTimeout:"Sorry, your Transaction has timed out. Please try again later."}},,function(e,t,n){"use strict";(function(e){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(10),i=function(){function t(t){this.defaultHeaderData={"Content-Type":"application/json"},t=r({},t,{ajax:null}),this.settings={ajax:e.extend({method:"post",xhrFields:{withCredentials:!0},headers:{"Content-Type":"application/json"}},t.ajax)}}return Object.defineProperty(t.prototype,"headerData",{get:function(){return this._headerData},set:function(e){this._headerData=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerDataOptions",{get:function(){return e.extend(!0,{},this.defaultHeaderData,this.headerData)},enumerable:!0,configurable:!0}),t.prototype.post=function(e,t,n){return void 0===n&&(n={}),this.postWithHeader(e,t,n,{})},t.prototype.postWithHeader=function(t,n,r,o){return void 0===r&&(r={}),e.ajax(e.extend(!0,{},this.settings.ajax,{url:this.getRemitaUrl(t),data:JSON.stringify(n),headers:e.extend(!0,{},this.headerDataOptions,o)},r))},t.prototype.get=function(t,n){return void 0===n&&(n={}),e.ajax(e.extend(!0,{},this.settings.ajax,{url:this.getRemitaUrl(t),method:"get",headers:this.headerDataOptions},n))},t.prototype.getPromise=function(t,n){var r=this;return void 0===n&&(n={}),new Promise(function(o,a){e.ajax(e.extend(!0,{},r.settings.ajax,{url:r.getRemitaUrl(t),method:"get",headers:r.headerDataOptions,success:function(e,t,n){o({body:r.getJSONResponseData(e),headers:r.extractResponseHeaders(n.getAllResponseHeaders())})},error:function(e){a(e)}},n))})},t.prototype.getText=function(t,n){return void 0===n&&(n={}),e.ajax(e.extend(!0,{},this.settings.ajax,{url:t,method:"get",cache:!0,dataType:"text",timeout:15e3,headers:this.headerDataOptions},n))},t.prototype.postAndExtractHeaderResponse=function(t,n,r){var o=this;return void 0===r&&(r=null),new Promise(function(a,i){e.ajax({type:"POST",xhrFields:{withCredentials:!0},url:o.getRemitaUrl(t),data:JSON.stringify(n),contentType:"application/json",headers:e.extend(!0,{},o.headerDataOptions,r),dataType:"json",success:function(e,t,n){a({body:e,headers:o.extractResponseHeaders(n.getAllResponseHeaders())})},error:function(e){i(e)}})})},t.prototype.extractResponseHeaders=function(e){var t=e.trim().split(/[\r\n]+/),n={};return t.forEach(function(e){var t=e.split(": "),r=t.shift(),o=t.join(": ");n[r]=o}),n},t.prototype.getResponseCode=function(e){if(e){if(e.responseCode)return e.responseCode;if(e.body)return e.body.responseCode}return a.DefaultResponseCode.Error},t.prototype.extractServerData=function(e){return e.body?e.body.responseData[0]||null:e.responseData[0]||null},t.prototype.getPaymentResponseParameters=function(e){return this.extractServerData(e).paymentResponseParameters},t.prototype.getPaymentReference=function(e){return e=this.extractServerData(e),e&&e.paymentReference?e.paymentReference:e&&e.paymentResponseParameters&&e.paymentResponseParameters.length>0?e.paymentResponseParameters.filter(function(e){return e.name==o.PAYMENT_REFERENCE_KEY})[0].defaultValue:null},t.prototype.getOtpForm=function(e,t){return"GET"===e.method?this.get(e.actionUrl):this.postAndExtractHeaderResponse(o.API_BASE_URL+e.actionUrl,this.prepareProcessingData(t))},t.prototype.prepareProcessingData=function(e){return{params:e}},t.prototype.appendBaseUrl=function(e){return o.API_BASE_URL+e},t.prototype.getJSONResponseData=function(e){return"string"==typeof e?JSON.parse(e):e},t.prototype.postPaymentDataToServer=function(e,t){throw new Error("MethodNotImplementedError: ")},t.prototype.requery=function(e,t){throw new Error("MethodNotImplementedError: ")},t.prototype.validateTransaction=function(e,t){throw new Error("MethodNotImplementedError: ")},t.prototype.processPayment=function(e,t,n){throw new Error("MethodNotImplementedError: ")},t.prototype.validateCharge=function(e,t){throw new Error("MethodNotImplementedError: ")},t.prototype.getRemitaUrl=function(e){return e+"/index.json"},t}();t.BaseService=i}).call(t,n(0))},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=n(1),i=n(3),s=n(31),c=n(15),p=function(){function t(){this.paymentBaseTemplateSelector="#template-payment-base",this.paymentFormHeaderTemplateSelector="#template-payment-form-header",this.paymentProcessingTemplateSelector="#template-payment-processing",this.paymentSuccessfulTemplateSelector="#template-payment-successful",this.paymentFailedTemplateSelector="#template-payment-failed",this.testCardTemplateSelector="#template-test-card",this.testBankTemplateSelector="#template-test-bank",this.qrImageTemplateSelector="#template-qr-image",this.ussdImageTemplateSelector="#template-ussd-image",this.creditTemplateSelector="#template-process-credit",this.creditImageTemplateSelector="#template-process-credit-qr-image",this.pageContainerSelector=".page-container",this.paymentStateContainerSelector="#js-payment-state-container",this.paymentFormContainerSelector="#js-payment-form-container",this.paymentFooterSelector="#js-payment-footer",this.paymentTabsContainerSelector="#js-payment-tabs-container",this.paymentTestCardContainerSelector="#js-payment-test-card-container",this.paymentTestBankContainerSelector="#js-payment-test-bank-container",this.paymentFormSelector="#payment-form",this.paymentRequerySelector="#js-payment-requery",this.cardFormSelector="#js-card-form",this.bankFormSelector="#js-bank-form",this.branchFormSelector="#js-branch-form",this.ussdFormSelector="#js-ussd-form",this.qrFormSelector="#js-qr-form",this.ibankFormSelector="#js-ibank-form",this.walletFormSelector="#js-wallet-form",this.creditFormSelector="#js-credit-form",this.ussdCodeDisplaySelector="#js-ussd-code",this.qrImageDisplaySelector="#js-qr-code",this.creditQrImageDisplaySelector="#js-process-credit-way",this.threeDSContainerCloseBtnSelector=".ds-close-btn",this.rmBtnCloseSelector=".js-rm-close",this.paymentFormBodySelector="#js-payment-form-body",this.paymentFormHeaderSelector="#js-payment-form-header",this.tabToggleSelector='a[data-toggle="tab"]',this.threeDSIframeContainerSelector="#3DSIframeContainer",this.validateBtnSelector="#validate-btn",this.loadingSection=".loading-section"}return t.prototype.setTheme=function(t){t.merchantTheme&&t.merchantTheme.secondaryColor&&t.merchantTheme.primaryColor&&(e(".payment-sidebar, .payment-topbar, .btn-primary").css("background-color",t.merchantTheme.primaryColor),e(".btn-success").css("background-color",t.merchantTheme.secondaryColor),e(".service_charges").css("color",t.merchantTheme.primaryColor),e(".page-container .payment-sidebar .nav-pills>li.active>a").css("color",t.merchantTheme.secondaryColor),e(".page-container .payment-sidebar .nav-pills>li.active>a .navbar-icon svg g").css("stroke",t.merchantTheme.secondaryColor),e(".payment-sidebar .payment-nav").click(function(){e(this).find("a").css({color:t.merchantTheme.secondaryColor}),e(this).find(".navbar-icon svg g").css({stroke:t.merchantTheme.secondaryColor}),e(this).siblings().find("a").css({color:""}),e(this).siblings().find(".navbar-icon svg g").css({stroke:""})}),e(".page-container .payment-sidebar .nav-pills >li").hover(function(){e(this).find("a").css({color:t.merchantTheme.secondaryColor}),e(this).find("a .navbar-icon svg g").css({stroke:t.merchantTheme.secondaryColor})},function(){e(this).not(".active").find("a").css({color:""}),e(this).not(".active").find("a .navbar-icon svg g").css({stroke:""})}),e(".dropdown-menu > li > a").hover(function(){e(this).css({backgroundColor:t.merchantTheme.secondaryColor})},function(){e(this).css({backgroundColor:""})}))},t.prototype.setStandardImgSrc=function(t){e(".standard "+t+" .change-src-for-standard").each(function(t,n){var r=e(n).attr("src");e(n).attr("src","../../"+r)})},t.prototype.displayErrorMessage=function(t){var n="";t||(t="An error occured while processing request."),n+='<div class="alert alert-danger alert-dismissible" role="alert" >',n+=t,n+='<button type="button" class="close alert__close-button" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>',e(".message-wrapper").html(n)},t.prototype.displaySuccessMessage=function(t){var n="";t||(t="Successful"),n+='<div class="alert alert-success alert-dismissible" role="alert" >',n+=t,n+='<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>',e(".message-wrapper").html(n)},t.prototype.disableButton=function(t){e(t).prop("disabled",!0),e(t).find(".btn-text").addClass("hidden"),e(t).find(".btn-loader").removeClass("hidden")},t.prototype.enableButton=function(t){e(t).removeAttr("disabled"),e(t).find(".btn-text").removeClass("hidden"),e(t).find(".btn-loader").addClass("hidden")},t.prototype.getFormDataObj=function(t){var n={};return e(t).find(":input").not(":hidden").not(".btn").each(function(t,r){var o=e(r).attr("name"),a=e(r).val();if(a&&!n[o]){var i="#"+r.id+"_value";e(i).length>0&&(a=e(i).val()),n[o]=a}}),n},t.prototype.initValidation=function(t,n){return e(t).validate(n)},t.prototype.resetMessages=function(){e(".message-wrapper > .alert")&&e(".message-wrapper > .alert").remove()},t.prototype.resetPaymentView=function(){this.resetMessages(),e(this.paymentFormBodySelector).html("")},t.prototype.resetValidatorForm=function(e){e&&e.resetForm()},t.prototype.removeElement=function(t){e(t).remove()},t.prototype.setContainerClassByDevice=function(){var t=a.UtilService.isPhone()?"page-mobile":"page-full";e(".page-container").addClass(t)},t.prototype.animateInlineEntry=function(){var t="zoomIn";a.UtilService.isPhone()&&(t="fadeIn"),e(this.paymentFormContainerSelector).addClass(t)},t.prototype.removeLoadingState=function(){e(this.pageContainerSelector).removeClass("page-loading"),this.animateInlineEntry(),this.displayPaymentFormContainer()},t.prototype.displayPaymentFormContainer=function(){this.showElement(this.paymentFooterSelector),this.showElement(this.paymentFormContainerSelector)},t.prototype.getFormDataAsJSON=function(t){var n=e(t).serializeArray(),r={};return e.each(n,function(){r[this.name]=this.value||""}),r},t.prototype.shakePaymentBox=function(){var t=this;e(this.paymentFormContainerSelector).addClass("animated shake"),setTimeout(function(){e(t.paymentFormContainerSelector).removeClass("animated shake")},1e3)},t.prototype.resetButtons=function(){e(".btn").prop("disabled",!1),e(".btn-loader").addClass("hidden"),e(".btn-text").removeClass("hidden")},t.prototype.showErrorMessage=function(e){this.resetButtons(),this.shakePaymentBox(),this.displayErrorMessage(e)},t.prototype.extractServerError=function(e){if(e&&e.responseJSON){var t=e.responseJSON;if(t&&t.responseData&&t.responseData.length>0)return t.responseData[0]}return{}},t.prototype.formatError=function(e){var t;if(e.responseJSON){var n=this.extractServerError(e);n&&(t=n.responseMsg||null)}else t=!t&&e.response?0==e.response.status?i.MESSAGES.internetConnectionError:i.MESSAGES.defaultServerError.replace("ERROR_RESPONSE_STATUS",e.response.status||""):e.message;return e.message=t||i.MESSAGES.defaultError,e},t.prototype.showPaymentError=function(e){e=this.formatError(e),this.showErrorMessage(e.message)},t.prototype.showValidationError=function(e){var t=Object.assign(e),n=this.extractServerError(t);n&&n.hasOwnProperty("dismissible")&&this.isDismissibleError(t)?this.showFinalErrorPage(n.message):e&&404===e.status?this.showFinalErrorPage(e.message):(e=this.formatError(e),this.showErrorMessage(e.message))},t.prototype.showError=function(e){switch(typeof e){case"string":this.showErrorMessage(e);break;case"object":e=this.formatError(e),this.showErrorMessage(e.message)}},t.prototype.showElement=function(t){var n=e(t);return n.is(":visible")||n.show(),n},t.prototype.hideElement=function(t){var n=e(t);return n.is(":visible")&&n.hide(),n},t.prototype.showFinalErrorPage=function(t){t=t||i.MESSAGES.defaultError;var n=r.compile(e(this.paymentFailedTemplateSelector).html());e("body").css("display","block"),e(this.pageContainerSelector).addClass("page-error").removeClass("page-loading"),this.hideElement(this.paymentFormHeaderSelector),this.hideElement(this.paymentFormContainerSelector),this.showElement(this.paymentStateContainerSelector),e(this.paymentStateContainerSelector).html(n({message:t})),window.PAGE_SETTINGS&&window.PAGE_SETTINGS.preResponse&&this.hideElement(this.rmBtnCloseSelector)},t.prototype.isDismissibleError=function(e){return this.extractServerError(e).dismissible||!0},t.prototype.callParentToCloseIframe=function(e){this.postMessageToParentIframe(e,o.RmIframeEventType.RemitaClose)},t.prototype.postMessageToParentIframe=function(e,t){a.UtilService.log("Calling parent with event "+t+"...",e);var n=t+" "+window.name;e&&(n=n+" "+JSON.stringify(e)),parent.postMessage(n,"*")},t.prototype.closeParentIframe=function(e){var t=this;setTimeout(function(){t.callParentToCloseIframe(e)},900)},t.prototype.setup3DSIframeContainer=function(){var e=document.createElement("div");e.id="3DSIframeContainer",e.className="authIframeContainer",e.innerHTML='\n            <div class="authIframeContainer__header">\n                <span>\n                    <img src="assets/images/remita-logo-new.png" alt="Remita Logo" class="authIframeContainer__header-image img-responsive" />\n                </span>\n                <span class="authIframeContainer__header-text">Processing your payment...</span>\n                <div id="3DS-close-btn" class="close-btn ds-close-btn"\n                    style="\n                    cursor: pointer;\n                    position: absolute;\n                    top: 15px;\n                    right: 15px;\n                    width: 36px;\n                    height: 36px;\n                    font-size: 30px;\n                    text-align: center;\n                    line-height: 32px;"\n                    >Ã—\n                </div>\n            </div>\n            ',document.body.appendChild(e)},t.prototype.setup3DSIframe=function(e,t,n){void 0===t&&(t="POST");var r=document.createElement("iframe");if(r.setAttribute("frameBorder","0"),r.setAttribute("allowtransparency","true"),r.style.cssText="\n            z-index: 9999;\n            \ndisplay: block;\n            \nbackground: transparent;\n            \nbackground: rgba(0,0,0,0.005);\n            \nborder: 0px none transparent;\n            \noverflow-x: hidden;\n            \noverflow-y: hidden;\n            \nvisibility: visible;\n            \nmargin: 0;\n            \nmin-height: 475px;\n            \npadding: 0;\n            \n-webkit-tap-highlight-color: transparent;\n            \n-webkit-touch-callout: none;\n            position: relative;\n            \nleft: 0;\n            \ntop: 0;\n            \nwidth: 100%;\n            \nheight: 100%;",r.id=r.name="3DSIframe","GET"===t)r.src=e,document.getElementById("3DSIframeContainer").appendChild(r);else{var o=document.createElement("form");o.action=e,o.method=t,o.target="3DSIframe",n.forEach(function(e){var t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name",e.name),t.setAttribute("value",e.defaultValue),o.appendChild(t)}),r.appendChild(o),document.getElementById("3DSIframeContainer").appendChild(r),o.submit()}},t.prototype.setupPaymentFormHeader=function(t){var n=r.compile(e(this.paymentFormHeaderTemplateSelector).html());e(this.paymentFormHeaderSelector).html(n({transaction:t}))},t.prototype.setupPaymentProcessingTemplate=function(t,n,o){if(this.hideElement(this.loadingSection),null!=t)if("QRCODE"===t[0].name){var a=r.compile(e(this.qrImageTemplateSelector).html());e(this.qrImageDisplaySelector).html(a({data:t,header:n}))}else if("USSD"===t[0].name){var a=r.compile(e(this.ussdImageTemplateSelector).html());e(this.ussdCodeDisplaySelector).html(a({data:t,header:n}))}else if("BOCQRCODE"===t[0].name){var a=r.compile(e(this.creditTemplateSelector).html());e(this.paymentFormBodySelector).html(a());var i=r.compile(e(this.creditImageTemplateSelector).html());e(this.creditQrImageDisplaySelector).html(i({data:t,header:n}))}else{var a=r.compile(e(this.paymentProcessingTemplateSelector).html());e(this.paymentFormBodySelector).html(a({data:t,header:n}))}this.setTheme(o)},t.prototype.showRequery=function(){var t=r.compile(e("#template-payment-requery").html());e(this.paymentFormContainerSelector).hide(),e(this.paymentStateContainerSelector).html(t()).show()},t.prototype.hideRequery=function(t){void 0===t&&(t=!1),e(this.paymentStateContainerSelector).hide().find(this.paymentRequerySelector).remove(),t||e(this.paymentFormContainerSelector).show()},t.prototype.showSuccess=function(t,n){t.reference=n.id;var o=r.compile(e(this.paymentSuccessfulTemplateSelector).html());this.hideElement(this.paymentFormContainerSelector),this.showElement(this.paymentStateContainerSelector),e(this.paymentStateContainerSelector).html(o(t)),window.PAGE_SETTINGS&&window.PAGE_SETTINGS.preResponse&&this.hideElement(this.rmBtnCloseSelector)},t.prototype.getSelectOptionsTemplate=function(e){for(var t='<option value="" selected>Select a bank</option>',n=0;n<e.length;n++){var r=e[n];t+='<option value="'+r.key+'">'+r.value+"</option>"}return t},t.prototype.getListTemplate=function(e){var t='<option value="'+e.defaultOption.id+'">'+e.defaultOption.description+"</option>";return e.data.length>0&&e.data.map(function(n){t+='<option value="'+n[e.valuePropName]+'">'+n[e.labelPropName]+"</option>"}),t},t.prototype.setSelectOptions=function(t,n){e(t).html(this.getSelectOptionsTemplate(n))},t.prototype.setBankOptions=function(t,n){var r=new s.ListOptionModel({data:n,labelPropName:"bankName",valuePropName:"bankCode",defaultOption:{id:"",description:"Select a bank"}});e(t).html(this.getListTemplate(r))},t.prototype.setupTestCardDetails=function(t){var n=r.compile(e(this.testCardTemplateSelector).html());e(this.paymentTestCardContainerSelector).html(n({data:t}))},t.prototype.setupTestBankDetails=function(t){var n=r.compile(e(this.testBankTemplateSelector).html());e(this.paymentTestBankContainerSelector).html(n({data:t}))},t.prototype.setupMockAcsLink=function(t,n){e(".live-test").attr("href","test/mock-acs/index.html?publickey="+n.key+"&transId="+n.transactionId+"&paymentChannel="+t)},t.prototype.displayTestDetailByChannel=function(t,n){switch(this.setupMockAcsLink(t,n),e(this.paymentFormContainerSelector).addClass("payment-form__container--top-radius"),t){case c.PaymentChannel.Card:this.showElement(this.paymentTestCardContainerSelector),this.hideElement(this.paymentTestBankContainerSelector);break;case c.PaymentChannel.Bank:case c.PaymentChannel.Buyoncredit:this.showElement(this.paymentTestBankContainerSelector),this.hideElement(this.paymentTestCardContainerSelector);break;default:this.hideElement(this.paymentTestBankContainerSelector),this.hideElement(this.paymentTestCardContainerSelector)}},t}();t.BaseView=p}).call(t,n(0),n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.Standard="S",e.Enterprise="E"}(t.PaymentSetupVersion||(t.PaymentSetupVersion={}))},function(e,t,n){"use strict";(function(e){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=n(32),i=n(3),s=n(33),c=n(1),p=function(){function t(e,t){this.isCharging=!1,this.isTransactionTimeout=!1,this.closing=!1,this.service=e,this.view=t,this.setupTransactionsForStandardPage(),this.replaceCloseListeners()}return t.prototype.setupTransactionsForStandardPage=function(){window.PAGE_SETTINGS&&window.PAGE_SETTINGS.preResponse&&(this.transaction=window.PAGE_SETTINGS.preResponse,this.transaction.id=this.transaction.transactionId,this.transaction.processRrr=!0,this.transaction.extendedData=JSON.stringify({customFields:[{name:"rrr",value:this.transaction.rrr}]}))},t.prototype.replaceCloseListeners=function(){var t=this;window.PAGE_SETTINGS&&window.PAGE_SETTINGS.preResponse?this.view.hideElement(this.view.rmBtnCloseSelector):e(document).off("click",this.view.rmBtnCloseSelector).on("click",this.view.rmBtnCloseSelector,function(e){return t.onBtnCloseClick(e)})},t.prototype.onBtnCloseClick=function(e){this.closing=!0,this.close3DSAuthIframe()},t.prototype.requery=function(){var e=this;this.transaction&&this.transaction.id&&setTimeout(function(){e.service.requery(e.transaction.id,e.transaction).then(function(t){t=e.service.getJSONResponseData(t),e.view.hideRequery(e.closing),t.message=t.message||"Authorization was abandoned. Please try again",e.handleProcessResponse(t)},function(t){e.view.hideRequery(e.closing),e.handlePaymentError(t)})},2e3)},t.prototype.close3DSAuthIframe=function(t){e(this.view.threeDSIframeContainerSelector).remove(),this.closing||(this.view.showElement(this.view.paymentFormContainerSelector),this.view.showElement(this.view.paymentFooterSelector)),this.authWindowTimer&&window.clearInterval(this.authWindowTimer),this.isTransactionTimeout||(this.view.showRequery(),this.requery())},t.prototype.removeAuthFrame=function(){this.isQueryingTransaction=!0,window.clearInterval(this.authWindowTimer),this.transactionFinalizationTimer&&window.clearTimeout(this.transactionFinalizationTimer),this.close3DSAuthIframe()},t.prototype.checkIfTransactionIsProcessed=function(){var e=this;return this.isQueryingTransaction=!0,new Promise(function(t,n){e.service.validateTransaction(e.transaction.id,e.transaction).then(function(){e.isQueryingTransaction=!0,t(!0)},function(t){n(t),e.isQueryingTransaction=!1})})},t.prototype.initTransactionFinalizationTimer=function(){var e=this;this.transactionFinalizationTimer&&window.clearTimeout(this.transactionFinalizationTimer),c.UtilService.log("Transaction Timer started..."),this.transactionFinalizationTimer=setTimeout(function(){e.isTransactionTimeout=!0,c.UtilService.log("Closing transaction timeout..."),e.removeAuthFrame(),e.view.showFinalErrorPage(i.MESSAGES.transactionTimeout)},i.TRANSACTION_TIMEOUT_DURATION_3DS)},t.prototype.listenTransactionFinalization=function(){var e=this;this.authWindowTimer&&window.clearInterval(this.authWindowTimer),this.authWindowTimer=window.setInterval(function(){e.isQueryingTransaction||e.checkIfTransactionIsProcessed().then(function(t){e.removeAuthFrame()},function(t){e.isQueryingTransaction=!1}).finally(function(){e.isQueryingTransaction=!1})},i.TRANSACTION_PROCESSED_INTERVAL),this.initTransactionFinalizationTimer()},t.prototype.setup3DSIframeContainer=function(){var t=this;this.view.setup3DSIframeContainer(),e(this.view.threeDSContainerCloseBtnSelector).on("click",function(e){return t.onBtnCloseClick(e)})},t.prototype.open3DSAuthWindow=function(e,t,n){c.UtilService.log("welcome...",e),this.authWindowUsedIframe=!0,this.setup3DSIframeContainer(),this.view.setup3DSIframe(e,n,t),this.view.hideElement(this.view.paymentFormContainerSelector),this.view.hideElement(this.view.paymentFooterSelector),this.listenTransactionFinalization()},t.prototype.openInternalAuthWindow=function(e,t){this.authWindowUsedIframe=!0,c.UtilService.registerTenaryHelperFn(),this.view.setupPaymentProcessingTemplate(e,t,this.transaction),this.view.removeElement(this.view.cardPayBtnSelector),this.listenTransactionFinalization()},t.prototype.setupBuyOnCreditFventListener=function(t){var n=this,r={};this.buildResponseDefaultData(t,r),e(document).off("change","#js-process-credit-methods").on("change","#js-process-credit-methods",function(o){if("otp"===e(o.target).val())n.service.getOtpForm(t,r).then(function(e){c.UtilService.clearAllTimersAndIntervals(),e=n.service.getJSONResponseData(e),n.isCharging=!1,n.view.removeLoadingState(),n.handleResponse(e)}).catch(function(e){return n.isCharging=!1,n.shouldRequery(e)?(n.view.showRequery(),n.requery()):n.handleValidationError(e),!1});else{var a=n.getResponseInputsByVisibility(t,!1);n.openInternalAuthWindow(a,t.message)}})},t.prototype.showProcessing=function(e){c.UtilService.log("welcome...");var t=this.service.extractServerData(e),n={},r={};r[i.PAYMENT_ID_HEADER_KEY]=e.headers[i.PAYMENT_ID_HEADER_KEY]||e.headers["payment-id"]||e.headers.paymentid,r[i.MERCHANT_HEADER_KEY]=this.transaction.key,r[i.TRANSACTION_ID_HEADER_KEY]=this.transaction.transactionId;var o=this.getResponseInputsByVisibility(t,!1);return this.buildResponseDefaultData(t,n),t.actionType==s.PaymentResponseActionType.form&&window.PAGE_SETTINGS&&window.PAGE_SETTINGS.preResponse?(c.UtilService.log("Redirect to 3DS page..."),void(window.location.href=t.actionUrl)):t.actionType!=s.PaymentResponseActionType.form||window.PAGE_SETTINGS?t.actionType==s.PaymentResponseActionType.internal?(c.UtilService.log("Opening page other..."),this.openInternalAuthWindow(o,t.message),void("BOCQRCODE"===o[0].name&&(this.setupBuyOnCreditFventListener(t),c.UtilService.log("Opening page other... BOCQRCODE")))):void(o&&o.length>0?(c.UtilService.registerTenaryHelperFn(),this.view.setupPaymentProcessingTemplate(o,t.message,this.transaction),this.view.removeElement(this.view.cardPayBtnSelector),this.addPaymentProcessingListener(t.actionUrl,n,r)):this.processPayment(t.actionUrl,this.service.prepareProcessingData(n),r)):(c.UtilService.log("Opening 3DS page..."),void this.open3DSAuthWindow(t.actionUrl,this.service.getPaymentResponseParameters(e),t.method))},t.prototype.addPaymentProcessingListener=function(t,n,o){var a=this,i=e(this.view.paymentFormSelector);this.validator=null,this.validator=this.view.initValidation(this.view.paymentFormSelector,{}),i.off("submit").on("submit",function(e){if(e.preventDefault(),i.valid()){var s=a.view.getFormDataAsJSON(a.view.paymentFormSelector);s=r({},n,s),a.view.disableButton(a.view.validateBtnSelector),a.processPayment(t,a.service.prepareProcessingData(s),o)}})},t.prototype.processPayment=function(e,t,n){var r=this;this.service.processPayment(e,t,n).then(function(e){e=r.service.getJSONResponseData(e),r.handleProcessResponse(e)},function(e){r.handleValidationError(e)})},t.prototype.showSuccess=function(e,t){var n=this;this.view.showSuccess(e,t),window.PAGE_SETTINGS&&window.PAGE_SETTINGS.preResponse&&window.PAGE_SETTINGS.preResponse.redirectUrl?setTimeout(function(){window.location.href=window.PAGE_SETTINGS.preResponse.redirectUrl},i.CLOSE_INLINE_TIMEOUT_VALUE):window.PAGE_SETTINGS&&window.PAGE_SETTINGS.preResponse&&!window.PAGE_SETTINGS.preResponse.redirectUrl||setTimeout(function(){n.view.closeParentIframe(e)},i.CLOSE_INLINE_TIMEOUT_VALUE)},t.prototype.showFailed=function(e){this.view.showFinalErrorPage(e.message),this.sendFailure(e)},t.prototype.sendFailure=function(e){window.PAGE_SETTINGS&&window.PAGE_SETTINGS.preResponse&&window.PAGE_SETTINGS.preResponse.redirectUrl?setTimeout(function(){window.location.href=window.PAGE_SETTINGS.preResponse.redirectUrl},i.CLOSE_INLINE_TIMEOUT_VALUE):window.PAGE_SETTINGS&&window.PAGE_SETTINGS.preResponse&&!window.PAGE_SETTINGS.preResponse.redirectUrl||this.view.postMessageToParentIframe(e,o.RmIframeEventType.RemitaError)},t.prototype.handleFailure=function(e){this.handlePaymentError(e)},t.prototype.handlePaymentResponse=function(e){var t=this.service.getResponseCode(e);if(this.closing)window.PAGE_SETTINGS&&window.PAGE_SETTINGS.preResponse&&window.PAGE_SETTINGS.preResponse.redirectUrl?window.location.href=window.PAGE_SETTINGS.preResponse.redirectUrl:window.PAGE_SETTINGS&&window.PAGE_SETTINGS.preResponse&&!window.PAGE_SETTINGS.preResponse.redirectUrl||this.view.closeParentIframe();else switch(t){case"00":this.showProcessing(e);break;case"requery":this.view.showRequery(),this.requery();break;default:this.handleFailure(e)}},t.prototype.handleProcessResponse=function(e){var t=this.service.extractServerData(e);switch(t.paymentState){case a.PaymentState.Processing:this.handlePaymentResponse(e);break;case a.PaymentState.Approved:case a.PaymentState.Successful:this.showSuccess(t,this.transaction);break;case a.PaymentState.OTPFailed:this.view.showErrorMessage(t.message);break;case a.PaymentState.Failed:this.showFailed(t);break;default:this.handleFailure(e)}},t.prototype.handleResponse=function(e){var t=this.service.extractServerData(e);c.UtilService.log("handleResponse",{serverData:t,response:e}),t&&t.paymentState?this.handleProcessResponse(e):this.handlePaymentResponse(e)},t.prototype.handlePaymentError=function(e){window.PAGE_SETTINGS&&window.PAGE_SETTINGS.preResponse&&this.closing?(e=this.view.formatError(e),this.showFailed(e)):this.view.showPaymentError(e)},t.prototype.handleValidationError=function(e){c.UtilService.log("handleValidationError error",e),this.view.showValidationError(e)},t.prototype.shouldRequery=function(e){return!1},t.prototype.preparePaymentData=function(e){return e},t.prototype.postPaymentDataToServer=function(e){var t=this;e=this.preparePaymentData(e),this.service.postPaymentDataToServer(e,this.transaction).then(function(e){e=t.service.getJSONResponseData(e),t.transaction.id=t.service.getPaymentReference(e),t.isCharging=!1,t.view.removeLoadingState(),t.handleResponse(e)},function(e){return t.isCharging=!1,t.shouldRequery(e)?(t.view.showRequery(),t.requery()):t.handleValidationError(e),!1})},t.prototype.buildResponseDefaultData=function(e,t){this.getResponseInputsByVisibility(e,!0).forEach(function(e){t[e.name]=e.defaultValue})},t.prototype.getResponseInputsByVisibility=function(e,t){return e&&e.paymentResponseParameters?e.paymentResponseParameters.filter(function(e){return e.hidden==t}):[]},t}();t.BasePaymentComponent=p}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){e&&(this.firstName=e.firstName||"",this.lastName=e.lastName||"",this.narration=e.narration||"",this.email=e.email||"")}return e}();t.ExtraPaymentOptionRequest=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.Success="00",e.Error="99",e.Duplicate="94",e.Processed="02"}(t.DefaultResponseCode||(t.DefaultResponseCode={}))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this._responseCode=e,this._responseMsg=t,this._responseData=n||[]}return Object.defineProperty(e.prototype,"responseCode",{get:function(){return this._responseCode},set:function(e){this._responseCode=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"responseMsg",{get:function(){return this._responseMsg},set:function(e){this._responseMsg=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"responseData",{get:function(){return this._responseData},set:function(e){this._responseData=e},enumerable:!0,configurable:!0}),e}();t.DefaultServiceResponse=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.RemitaOpen="RemitaOpen",e.RemitaClose="RemitaClose",e.RemitaError="RemitaError",e.RemitaCloseAppLoader="RemitaCloseAppLoader",e}();t.RmIframeEventType=r},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.Card="card",e.Bank="bank",e.Branch="branch",e.Ussd="ussd",e.Qr="qr",e.Ibank="ibank",e.Buyoncredit="buyoncredit",e.Wallet="wallet"}(t.PaymentChannel||(t.PaymentChannel={}))},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(19),(new(n(20).InnerPaymentEngineModule)).init()},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),o=function(){function e(){}return e.prototype.init=function(){return window.PAGE_SETTINGS&&window.PAGE_SETTINGS.preResponse?(new r.InnerPaymentEngineComponent).init(window.PAGE_SETTINGS):(new r.InnerPaymentEngineComponent).init("")},e}();t.InnerPaymentEngineModule=o},function(e,t,n){"use strict";(function(e){var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),a=n(22),i=n(1),s=n(35),c=n(36),p=n(10),l=n(13),u=n(3),h=n(15),m=n(37),d=n(41),y=n(44),f=n(48),v=n(52),S=n(56),w=n(60),P=n(7),_=n(2),g=(n(64),function(){function t(){this.cardForm=new a.CardFormComponent,this.bankForm=new m.BankFormComponent,this.branchForm=new d.BranchFormComponent,this.ussdForm=new y.UssdFormComponent,this.qrForm=new f.QrFormComponent,this.ibankForm=new v.IbankFormComponent,this.creditForm=new S.CreditFormComponent,this.walletForm=new w.WalletFormComponent,this.view=new c.InnerPaymentEngineView,this.service=new s.InnerPaymentEngineService,this.utilService=new i.UtilService}return t.isValidKey=function(e){return e&&e.length>0},t.isValidAmount=function(e){return e&&e>0},t.prototype.init=function(e){return e&&e.preResponse?(this.transaction=e.preResponse,this.transaction.id=this.transaction.transactionId,this.transaction.processRrr=!0,this.transaction.extendedData=JSON.stringify({customFields:[{name:"rrr",value:this.transaction.rrr}]}),this.queryParams=this.transaction):(this.queryParams=i.UtilService.getQueryParameters(),this.transaction=this.queryParams),this.service.headerData=Object.assign({},this.service.headerData,this.service.getHeaderData(new _.PaymentHeaderData(this.transaction))),i.UtilService.log("Inline Engine transaction init: ",this.transaction),e&&e.preResponse?this.openInline():this.listenForIframeOpen(),this},t.prototype.initPageWideListeners=function(){var t=this;e(document).on("click",this.view.rmBtnCloseSelector,function(e){return t.onBtnCloseClick(e)})},t.prototype.listenForIframeOpen=function(){var e=this,t=window.addEventListener?"addEventListener":"attachEvent";(0,window[t])("attachEvent"==t?"onmessage":"message",function(t){var n=t.data||t.message;if(n&&"string"==typeof n){n=n.split(" ");var r=n[0],o=n[1];if(l.RmIframeEventType.RemitaOpen!=r)return;o==window.name?e.openInline():e.view.showFinalErrorPage("Please refresh your page to reload Remita")}},!1)},t.prototype.loadTemplates=function(){var e=this;return i.UtilService.registerFormatPanHelperFn(),i.UtilService.registerAddHelperFn(),this.service.loadHandleBarTemplates().then(function(){e.view.setupBaseTemplate(),e.view.setContainerClassByDevice(),e.initPageWideListeners()})},t.prototype.validateMerchantTransaction=function(e){var n=this;e=this.queryParams||i.UtilService.getQueryParameters();var a=null;return e.channels&&(e.channels=e.channels.split(",")),t.isValidKey(e.key)||(a="Please use your remita pay key"),t.isValidAmount(e.amount)||(a="Please enter a valid amount"),a&&!e.processRrr?new o.DefaultServiceResponse(p.DefaultResponseCode.Error,a):this.service.preRequestUrl(e).then(function(t){return t=n.service.getJSONResponseData(t),n.setupTestDetails(t),n.view.postMessageToParentIframe({},l.RmIframeEventType.RemitaCloseAppLoader),t&&t.responseData&&t.responseData.length>0?(t.responseData[0].version="null"==t.responseData[0].version||"undefined"==t.responseData[0].version?P.PaymentSetupVersion.Standard:t.responseData[0].version,new o.DefaultServiceResponse(t.responseCode,t.responseMsg,[r({},e,t.responseData[0])])):new o.DefaultServiceResponse(p.DefaultResponseCode.Error,t.responseMsg,[r({},e,t)])})},t.prototype.setupTestDetails=function(t){var n=t&&t.responseData&&t.responseData.length>0?t.responseData[0]:null;n&&(i.UtilService.registerGreaterThanHelperFn(),i.UtilService.registerToLowercaseHelper(),n.testCardDetails.length>1&&this.view.setupTestCardDetails(n.testCardDetails),n.testBankDetails.length>1&&this.view.setupTestBankDetails(n.testBankDetails),(n.testCardDetails.length>1||n.testBankDetails.length>1)&&e(".live-test").show(),this.initCardTestToggleListeners(n.testCardDetails))},t.prototype.initCardTestToggleListeners=function(t){e(".switch-card span.switch-right").on("click",function(t){var n=e(t.currentTarget);n.closest(".test-card").hide(),n.closest(".test-card").next().length>0?n.closest(".test-card").next().show():n.closest(".test-card").siblings(":first-child").show()}),e(".switch-card span.switch-left").on("click",function(t){var n=e(t.currentTarget);n.closest(".test-card").hide(),n.closest(".test-card").prev().length>0?n.closest(".test-card").prev().show():n.closest(".test-card").siblings(":last-child").show()})},t.prototype.tabToggleClickHandler=function(t){var n=e(t.currentTarget),r=n.data("channel")||h.PaymentChannel.Card;e("."+r.toLowerCase()+".button-text").addClass("current"),e("."+r.toLowerCase()+".button-text").siblings().removeClass("current"),e("."+r.toLowerCase()+".payment-nav").addClass("active"),e("."+r.toLowerCase()+".payment-nav").siblings().removeClass("active"),this.setupPaymentFormByChannel(r)},t.prototype.initPaymentChannelToggleListeners=function(){var t=this;e(this.view.tabToggleSelector).off("click").on("click",function(e){return t.tabToggleClickHandler(e)})},t.prototype.removeSidebarSpace=function(){e(".payment-form__container").css({"padding-left":"0px",margin:"0px auto","max-width":"375px"})},t.prototype.setupPaymentFormByChannel=function(e){var t=this;if(e||(i.UtilService.log("Defaulting to Card channel..."),e=h.PaymentChannel.Card),i.UtilService.clearAllTimersAndIntervals(),this.transaction.totalAmountByPaymentChannel[e.toLowerCase()]||e===h.PaymentChannel.Card||e===h.PaymentChannel.Branch)this.setChannel(e);else{var n=this.queryParams||i.UtilService.getQueryParameters();this.service.getChannelDetails(e,this.transaction,n).then(function(n){t.setChannel(e,n.responseData[0])})}},t.prototype.setChannel=function(e,t){switch(this.view.resetPaymentView(),e.toString().toLowerCase()){case h.PaymentChannel.Card:this.cardForm.init(this.transaction),this.transaction.testMode&&this.transaction.testCardDetails&&this.view.displayTestDetailByChannel(h.PaymentChannel.Card,this.transaction);break;case h.PaymentChannel.Bank:t&&(this.transaction.availableBanks=t.availableBanks,this.transaction.totalAmountByPaymentChannel.bank=t.totalAmountByPaymentChannel.bank),this.bankForm.init(this.transaction),this.transaction.testMode&&this.transaction.testBankDetails&&this.view.displayTestDetailByChannel(h.PaymentChannel.Bank,this.transaction);break;case h.PaymentChannel.Branch:this.transaction.rrr?(this.branchForm.init(this.transaction),this.view.displayTestDetailByChannel(h.PaymentChannel.Branch,this.transaction)):this.view.showFinalErrorPage("Error processing request");break;case h.PaymentChannel.Ussd:t&&(this.transaction.availablUssdInfo=t.availablUssdInfo,this.transaction.totalAmountByPaymentChannel.ussd=t.totalAmountByPaymentChannel.ussd),this.ussdForm.init(this.transaction),this.view.displayTestDetailByChannel(h.PaymentChannel.Ussd,this.transaction);break;case h.PaymentChannel.Qr:t&&(this.transaction.availablQrInfo=t.availablQrInfo,this.transaction.totalAmountByPaymentChannel.qr=t.totalAmountByPaymentChannel.qr),this.qrForm.init(this.transaction),this.view.displayTestDetailByChannel(h.PaymentChannel.Qr,this.transaction);break;case h.PaymentChannel.Ibank:t&&(this.transaction.availablIbankInfo=t.availablIbankInfo,this.transaction.totalAmountByPaymentChannel.ibank=t.totalAmountByPaymentChannel.ibank),this.ibankForm.init(this.transaction),this.view.displayTestDetailByChannel(h.PaymentChannel.Ibank,this.transaction);break;case h.PaymentChannel.Buyoncredit:t&&(this.transaction.availableBanks=t.availableBanks,this.transaction.totalAmountByPaymentChannel.buyoncredit=t.totalAmountByPaymentChannel.buyoncredit),this.creditForm.init(this.transaction),this.transaction.testMode&&this.transaction.testBankDetails&&this.view.displayTestDetailByChannel(h.PaymentChannel.Buyoncredit,this.transaction);break;case h.PaymentChannel.Wallet:t&&(this.transaction.availableWalletInfo=t.availableWalletInfo,this.transaction.totalAmountByPaymentChannel.wallet=t.totalAmountByPaymentChannel.wallet),this.walletForm.init(this.transaction),this.view.displayTestDetailByChannel(h.PaymentChannel.Wallet,this.transaction);break;default:this.cardForm.init(this.transaction),this.transaction.testMode&&this.transaction.testCardDetails&&this.view.displayTestDetailByChannel(h.PaymentChannel.Card,this.transaction)}},t.prototype.showAvailableMenu=function(t){t.forEach(function(t){e("."+t.toLowerCase()+".payment-nav").show(),e("."+t.toLowerCase()+".dropdown-payment-nav").show()})},t.prototype.setupPaymentChannel=function(e){if(e)if(e.length>1)this.initPaymentChannelToggleListeners(),this.setupPaymentFormByChannel(h.PaymentChannel.Card),this.view.showElement(this.view.paymentTabsContainerSelector),this.showAvailableMenu(e);else{if(1!=e.length)throw new Error("InvalidChannelLengthError: ");this.setupPaymentFormByChannel(e[0]),this.removeSidebarSpace()}},t.prototype.setupPaymentForm=function(e){switch(e.paymentReference=e.id,e.paymentCurrency=e.currency||"NGN",this.transaction=e,i.UtilService.log("Version",this.transaction),this.transaction.version){case P.PaymentSetupVersion.Standard:this.queryParams.channel&&function(e){var t=e.trim().toLowerCase();return t===h.PaymentChannel.Card||t===h.PaymentChannel.Bank||t===h.PaymentChannel.Branch||t===h.PaymentChannel.Ussd||t===h.PaymentChannel.Qr||t===h.PaymentChannel.Ibank||t===h.PaymentChannel.Buyoncredit||t===h.PaymentChannel.Wallet}(this.queryParams.channel)?(i.UtilService.log("Enterprise"),this.setupPaymentFormByChannel(this.queryParams.channel||null),this.removeSidebarSpace()):this.transaction.paymentChannels&&this.transaction.paymentChannels.length>0?this.setupPaymentChannel(this.transaction.paymentChannels):this.setupPaymentFormByChannel(h.PaymentChannel.Card);break;case P.PaymentSetupVersion.Enterprise:i.UtilService.log("Enterprise"),this.setupPaymentFormByChannel(this.queryParams.channel||null),this.removeSidebarSpace();break;default:i.UtilService.log("Default"),this.setupPaymentFormByChannel(h.PaymentChannel.Card)}},t.prototype.openInline=function(){var e=this;this.loadTemplates().then(this.validateMerchantTransaction.bind(this),function(e){return i.UtilService.log(" validateMerchantTransaction err",e)}).then(function(t){if(t){if(p.DefaultResponseCode.Success===t.responseCode){var n=t.responseData[0]||t.responseData;return i.UtilService.log("validateMerchantTransaction Response Successful",t),e.utilService.initGlobalHelperMethods(n),e.setupPaymentForm(n)}return p.DefaultResponseCode.Duplicate===t.responseCode?(i.UtilService.log("validateMerchantTransaction Response duplicateError",t),e.view.showFinalErrorPage(t.responseMsg||u.MESSAGES.defaultError)):(p.DefaultResponseCode.Processed,t.responseCode,i.UtilService.log("validateMerchantTransaction Response setupError",t),e.view.showFinalErrorPage(t.responseMsg||u.MESSAGES.defaultError))}return e.view.showFinalErrorPage(u.MESSAGES.defaultError)},function(t){return e.view.showFinalErrorPage(t.responseMsg||u.MESSAGES.defaultError)})},t.prototype.onBtnCloseClick=function(e){this.view.closeParentIframe()},t}());t.InnerPaymentEngineComponent=g}).call(t,n(0))},function(e,t,n){"use strict";(function(e){var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),a=n(30),i=n(1),s=n(7),c=n(8),p=n(34),l=n(2),u=function(t){function n(){return t.call(this,new o.CardFormService,new a.CardFormView)||this}return r(n,t),n.prototype.init=function(e){return i.UtilService.log("transaction card init",e),this.transaction=e,this.service.headerData=Object.assign({},this.service.headerData,this.service.getHeaderData(new l.PaymentHeaderData(this.transaction))),this.setupFormByVersion(this.transaction),this},n.prototype.setupFormByVersion=function(e){var t=this;switch(e.version||s.PaymentSetupVersion.Standard){case s.PaymentSetupVersion.Standard:this.setupCardForm(),this.initCardFormEventListeners(),this.initCardFormValidation(),this.initPaymentMethods(),this.checkForPan();break;case s.PaymentSetupVersion.Enterprise:this.view.setupPaymentFormHeader(e),this.service.validateCardConfig(this.transaction.pan,this.transaction).then(function(n){n=t.service.getJSONResponseData(n),n.responseData[0].requiresPin?(t.view.loadCardPinForm(),t.initCardPinFormEventListeners(),t.view.removeLoadingState()):t.postPaymentDataToServer(new p.CardPaymentRequest(e))},function(e){return t.view.showValidationError(e)})}},n.prototype.initPaymentMethods=function(){e("[data-numeric]").payment("restrictNumeric"),e(".cc-number").payment("formatCardNumber"),e(".cc-cvv").payment("formatCardCVV"),e(".cc-expiryDate").payment("formatCardExpiry")},n.prototype.checkForPan=function(){this.transaction.pan&&this.transaction.tokenRef||(delete this.transaction.tokenRef,delete this.transaction.pan),this.transaction.pan&&this.transaction.tokenRef&&(e(this.view.panSelector).rules("remove","rmCreditCard"),e(this.view.panSelector).trigger("keyup").trigger("blur"))},n.prototype.initCardPinFormEventListeners=function(){var t=this;this.validator=null,e(this.view.cardPinFormSelector).off("submit").on("submit",function(e){return t.onCardPinFormSubmit(e)}),this.validator=this.view.initValidation(this.view.cardPinFormSelector,{})},n.prototype.initCardFormEventListeners=function(){var t=this;e(this.view.cardPinSelector).closest(".form-group").hide(),e(this.view.panSelector).off("blur").on("blur",function(e){return t.onCardNumberBlur(e)}),e(this.view.cardFormSelector).off("submit").on("submit",function(e){return t.onCardFormSubmit(e)}),this.initFieldProgressEventListeners()},n.prototype.onCardNumberBlur=function(t){var n=this,r=e(this.view.panSelector).val(),o=e(this.view.cardPinSelector);if(!r)return void i.UtilService.log("NoCardNumberFound");this.service.validateCardConfig(r,this.transaction).then(function(t){t=n.service.getJSONResponseData(t);var r=t.responseData[0];"01"===t.responseCode&&(e(n.view.panSelector).prop("disabled",!0),e(".expiry-cvv-container").hide(),e(".payment-form__diff-card").show(),e(".payment-form__diff-card").on("click",function(t){t.preventDefault(),e(n.view.panSelector).prop("disabled",!1).val(""),e(".expiry-cvv-container").show(),e(".payment-form__diff-card").hide(),delete n.transaction.tokenRef,delete n.transaction.pan,e(n.view.panSelector).rules("add",{rmCreditCard:!0,messages:{rmCreditCard:"Invalid Card Number"}})})),r.requiresPin?o.addClass("jv-pin").closest(".form-group").show():o.removeClass("jv-pin").closest(".form-group").hide()})},n.prototype.initCardFormValidation=function(){var e={rules:{pan:{required:!0,rmCreditCard:!0},expiryDate:{required:!0,rmCardExpiryDate:!0},cvv:{required:!0,digits:!0,minlength:3,maxlength:3}},messages:{pan:{required:"Card Number Required",rmCreditCard:"Invalid Card Number"},expiryDate:{required:"Expiry Date is required"},cvv:{required:"Invalid CVV"},cardPin:{required:"Invalid Pin",minlength:"Invalid Pin",maxlength:"Invalid Pin"}}};this.validator=this.view.initValidation(this.view.cardFormSelector,e)},n.prototype.setupCardForm=function(){this.view.setupPaymentFormHeader(this.transaction),this.view.setupCardForm(this.transaction),this.view.removeLoadingState()},n.prototype.getExpiryDate=function(e){return e=this.view.cardExpiryVal(e),{month:i.UtilService.padMonthValue(e.month),year:e.year.toString()}},n.prototype.preparePaymentData=function(e){t.prototype.preparePaymentData.call(this,e);var n=this.getExpiryDate(e.expiryDate||e.expiryMonth+"/"+e.expiryYear);return n.month&&n.year&&(e.expiryMonth=n.month,e.expiryYear=n.year),e.pan&&(e.pan=e.pan.replace(/\s/g,"")),e},n.prototype.initFieldProgressEventListeners=function(){var t=e(this.view.panSelector),n=e(this.view.cvvSelector),r=e(this.view.cardPinSelector),o=e(this.view.expiryDateSelector);t.on("keyup",function(){var n=t.val().toString().length;"verve"==e.payment.cardType(t.val())&&(23!=n&&19!=n||o.trigger("focus"))}),t.on("keyup",function(){var n=e.payment.cardType(t.val())?"card-type-icon__"+e.payment.cardType(t.val())+" identified animated fadeInLeft":"";t.siblings("#js-card-type-icon").removeClass().addClass("card-type-icon "+n)}),o.on("keyup",function(){7==e(this).val().toString().length&&n.trigger("focus")}),n.on("keyup",function(){3==n.val().toString().length&&r.is(":visible")&&r.trigger("focus")})},n.prototype.onCardFormSubmit=function(t){if(t.preventDefault(),e(this.view.cardFormSelector).valid()){this.view.disableButton(this.view.cardPayBtnSelector);var n=this.view.getFormDataObj(this.view.cardFormSelector);n=Object.assign({},this.transaction,n),this.postPaymentDataToServer(new p.CardPaymentRequest(n))}},n.prototype.onCardPinFormSubmit=function(t){if(t.preventDefault(),e(this.view.cardPinFormSelector).valid()){this.view.disableButton(this.view.cardPinButtonSelector);var n=this.view.getFormDataObj(this.view.cardPinFormSelector);n=Object.assign({},this.transaction,n),this.postPaymentDataToServer(new p.CardPaymentRequest(n))}},n}(c.BasePaymentComponent);t.CardFormComponent=u}).call(t,n(0))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=n(3),i=n(1),s=n(2),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.postPaymentDataToServer=function(t,n){t.customerId=n.customerId||"",t.channel="card";var r=new s.PaymentHeaderData;return r.pan=t.pan,e.prototype.postAndExtractHeaderResponse.call(this,a.API_URL.paymentBaseUrl,t,this.getHeaderData(r))},t.prototype.requery=function(t,n){var r=new s.PaymentHeaderData(n);return e.prototype.getPromise.call(this,a.API_URL.paymentRequery+t,{timeout:15e3,headers:this.getHeaderData(r)})},t.prototype.validateCardConfig=function(t,n){t=i.UtilService.stripSpaces(t),console.log("--------------",n);var r=new s.PaymentHeaderData(n);r.pan=t;var o={};return o.customerId=n.customerId||"",o.tokenRef=n.tokenRef||"",o.rrr=n.rrr||"",e.prototype.post.call(this,""+a.API_URL.validateCardConfig+t+"/"+n.currency,o,{timeout:15e3,headers:this.getHeaderData(r)})},t.prototype.validateCharge=function(t,n){var r=new s.PaymentHeaderData(n);return e.prototype.post.call(this,a.API_URL.chargeValidate,t,{headers:this.getHeaderData(r)})},t.prototype.validateTransaction=function(t,n){var r=new s.PaymentHeaderData(n);return e.prototype.get.call(this,a.API_URL.validateTransaction+t,{timeout:15e3,headers:this.getHeaderData(r)})},t.prototype.processPayment=function(t,n,r){return e.prototype.postAndExtractHeaderResponse.call(this,a.API_URL.paymentProcessBaseUrl+t,n,r)},t.prototype.getHeaderData=function(e){var t={};return t[a.MERCHANT_HEADER_KEY]=e.key,t[a.TRANSACTION_ID_HEADER_KEY]=e.transactionId,e.pan&&(t[a.PAYMENT_ID_HEADER_KEY]=e.pan),i.UtilService.log("Card Form => headerData",t),t},t}(o.BaseService);t.CardFormService=c},function(e,t,n){"use strict";(function(e){function r(){var t=null,n=null,r=a()||null,p=r&&r.key?r.key:window.PAGE_SETTINGS&&window.PAGE_SETTINGS.preResponse&&window.PAGE_SETTINGS.preResponse.key?window.PAGE_SETTINGS.preResponse.key:"NO_KEY_FOUND";c.UtilService.log(" queryParams >>",r);var l=null,u=null,h=!1;if(r.config&&JSON.parse(r.config)&&(n=JSON.parse(r.config),n.apiBaseUrl&&(l=n.apiBaseUrl),n.host&&(u=n.host),n.host&&n.apiBaseUrl&&(h=!0)),h)t=new s.UrlConstants(u,l,l);else{var m="/payment/v1/url_request",d=function(e){setTimeout(function(){i(e)},1e3),t=new s.UrlConstants("","","")};l&&(m=l+"/url_request"),e.ajax({url:o(m),async:!1,headers:{publicKey:p},xhrFields:{withCredentials:!0},success:function(e){if(e&&"00"===e.responseCode){var n=e.responseData;n&&n.length>0?(u||(u=n[0].rpeSiteUrl),l||(l=n[0].rpeApiBaseUrl),t=new s.UrlConstants(u,l,l)):d(e)}else d(e)},error:function(e){d(e)}})}return t}function o(e){return e+"/index.json"}function a(e){void 0===e&&(e=window.location.search);for(var t={},n=e,r=n.substr(1).split("&"),o=0;o<r.length;o++){var a=r[o].split("="),i=decodeURIComponent(a[1]||"");i=i.length>0?i:null,t[decodeURIComponent(a[0])]=i}return t}function i(e){c.UtilService.error("Calling parent with event RemitaConfigError...",e);var t="RemitaConfigError "+window.name;e&&(t=t+" "+JSON.stringify(e)),parent.postMessage(t,"*")}Object.defineProperty(t,"__esModule",{value:!0});var s=n(25),c=n(1);t.prepareConfig=r}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.siteUrl=e,this.customApiBaseUrl=t,this.apiBaseUrl=n}return e}();t.UrlConstants=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.environment={production:!0},t.environment.production||console.log("Current environment: ",t.environment)},function(e,t,n){function r(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||o)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[r+s]=i[s];return t||a(i)}var o=n(28),a=n(29);e.exports=r},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},function(e,t){function n(e,t){var n=t||0,o=r;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}for(var r=[],o=0;o<256;++o)r[o]=(o+256).toString(16).substr(1);e.exports=n},function(e,t,n){"use strict";(function(e,r){var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),i=function(t){function n(){var e=t.call(this)||this;return e.cardPayBtnSelector="#pay-btn",e.cardInputTemplateSelector="#template-card-form",e.panSelector="#js-cf-pan",e.expiryDateSelector="#js-cf-expiryDate",e.cvvSelector="#js-cf-cvv",e.cardPinSelector="#js-cf-pin",e.cardPayBtnSelector="#js-cf-payBtn",e.cardPinFormTemplateSelector="#template-card-pin-form",e.cardPinFormSelector="#js-card-pin-form",e.cardPinButtonSelector="#js-card-pin-btn",e}return o(n,t),Object.defineProperty(n.prototype,"paymentForm$",{get:function(){return e(this.cardFormSelector)},enumerable:!0,configurable:!0}),n.prototype.setupCardForm=function(t){var n=r.compile(e(this.cardInputTemplateSelector).html());e(this.paymentFormBodySelector).html(n({transaction:t})),this.setTheme(t)},n.prototype.loadCardPinForm=function(){var t=r.compile(e(this.cardPinFormTemplateSelector).html());e(this.paymentFormBodySelector).html(t({header:"ENTER CARD PIN",sub_header:"To confirm that you are the owner of this card please enter your card PIN"})).find("input").eq(0).trigger("focus")},n.prototype.cardExpiryVal=function(e){var t,n,r,o;return o=e.split(/[\s\/]+/,2),t=o[0],r=o[1],2===(null!=r?r.length:void 0)&&/^\d+$/.test(r)&&(n=(new Date).getFullYear(),n=n.toString().slice(0,2),r=n+r),t=parseInt(t,10),r=parseInt(r,10),{month:t,year:r}},n}(a.BaseView);t.CardFormView=i}).call(t,n(0),n(4))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.labelPropName="value",this.valuePropName="key",this.defaultOption={id:"",description:"Select an option"},Object.assign(this,e)}return e}();t.ListOptionModel=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.Processing="PROCESSING",e.Successful="SUCCESSFUL",e.OTPFailed="OTPFAILED",e.Failed="FAILED",e.Approved="APPROVED"}(t.PaymentState||(t.PaymentState={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.form="FORM",e.json="JSON",e.redirect="REDIRECT",e.internal="INTERNAL"}(t.PaymentResponseActionType||(t.PaymentResponseActionType={}))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=function(e){function t(t){var n=e.call(this,t)||this;return t&&(n.pan=t.pan||"",n.tokenRef=t.tokenRef||"",n.expiryMonth=t.expiryMonth||"",n.expiryYear=t.expiryYear||"",n.expiryDate=t.expiryDate||"",n.cvv=t.cvv||"",n.paymentReference=t.paymentReference||"",n.transactionId=t.transactionId||"",n.amount=t.amount||"",n.paymentCurrency=t.paymentCurrency||"",n.customerId=t.customerId||"",n.pin=t.pin||"",n.channel=t.channel),n}return r(t,e),t}(o.ExtraPaymentOptionRequest);t.CardPaymentRequest=a},function(e,t,n){"use strict";(function(e){var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),i=n(3),s=n(2),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r(n,t),n.prototype.loadHandleBarTemplates=function(){return t.prototype.getText.call(this,i.API_URL.handleBarTemplates).then(function(t){e("body").append(t)})},n.prototype.preRequestUrl=function(e){return t.prototype.post.call(this,i.API_URL.preRequestUrl,e,{headers:this.getHeaderData(new s.PaymentHeaderData(e))})},n.prototype.getHeaderData=function(e){var t={};return t[i.MERCHANT_HEADER_KEY]=e.key,t[i.TRANSACTION_ID_HEADER_KEY]=e.transactionId,t},n.prototype.getChannelDetails=function(e,n,r){return t.prototype.post.call(this,i.API_URL.channelRequestUrl,{paymentChannels:e,rrr:n.rrr},{headers:this.getHeaderData(new s.PaymentHeaderData(o({},n,r)))})},n}(a.BaseService);t.InnerPaymentEngineService=c}).call(t,n(0))},function(e,t,n){"use strict";(function(e,r){var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),i=function(t){function n(){return t.call(this)||this}return o(n,t),n.prototype.setupBaseTemplate=function(){var t=e.compile(r(this.paymentBaseTemplateSelector).html());r(this.pageContainerSelector).append(t()),r("body").removeAttr("style"),r(".standard .change-src-for-standard").each(function(e,t){var n=r(t).attr("src");r(t).attr("src","../../"+n)})},n}(a.BaseView);t.InnerPaymentEngineView=i}).call(t,n(4),n(0))},function(e,t,n){"use strict";(function(e){var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(38),a=n(1),i=n(7),s=n(39),c=n(8),p=n(10),l=n(40),u=n(2),h=function(t){function n(){return t.call(this,new s.BankFormService,new o.BankFormView)||this}return r(n,t),n.prototype.init=function(e){return a.UtilService.log("transaction bank init",e),this.transaction=e,this.service.headerData=Object.assign({},this.service.headerData,this.service.getHeaderData(new u.PaymentHeaderData(e))),this.setupFormByVersion(e),this},n.prototype.setupBankForm=function(){this.view.setupPaymentFormHeader(this.transaction),this.view.setupBankForm(this.transaction),this.view.removeLoadingState(),this.setupBanks()},n.prototype.setupBanks=function(){var e=this;this.service.getBanks(this.transaction.availableBanks).then(function(t){t.responseCode===p.DefaultResponseCode.Success&&(t.responseData&&t.responseData.length>0?e.view.setBankOptions(e.view.bankNameSelector,t.responseData):e.view.displayErrorMessage(t.responseMsg))},function(t){return e.view.displayErrorMessage(t.message||null)})},n.prototype.initBankFormEventListeners=function(){var t=this;e(this.view.bankFormSelector).on("submit",function(e){return t.onBankFormSubmit(e)}),e(this.view.bankNameSelector).on("change",function(e){return t.onBankNameChange(e)})},n.prototype.initPaymentMethods=function(){e("[data-numeric]").payment("restrictNumeric")},n.prototype.initBankFormValidation=function(){var e={rules:{accountNumber:{required:!0,digits:!0,minlength:9},bankCode:{required:!0}},messages:{accountNumber:{required:"Account Number is required"},bankCode:{required:"Bank Name is required"}}};this.validator=this.view.initValidation(this.view.bankFormSelector,e)},n.prototype.setupFormByVersion=function(e){switch(e.version||i.PaymentSetupVersion.Standard){case i.PaymentSetupVersion.Standard:this.setupBankForm(),this.initBankFormEventListeners(),this.initBankFormValidation(),this.initPaymentMethods();break;case i.PaymentSetupVersion.Enterprise:this.view.setupPaymentFormHeader(e),this.postPaymentDataToServer(new l.BankPaymentRequest(e))}},n.prototype.onBankNameChange=function(t){var n=this;if(e(this.view.bankFormSelector).valid()){this.view.disableButton(this.view.bankPayBtnSelector);var r=this.view.getFormDataObj(this.view.bankFormSelector);this.service.fetchAccountDetails(r).then(function(t){var r;r=t.responseCode==p.DefaultResponseCode.Success&&t.responseData&&t.responseData.length>0?n.view.getAccountDetailSuccessTemplate(t.responseData[0]):n.view.getAccountDetailErrorTemplate(),e(n.view.accountDetailsWrapperSelector).show().html(r),n.view.enableButton(n.view.bankPayBtnSelector)},function(e){a.UtilService.log("An error occurred while fetching bank details",e),n.view.showErrorMessage(),n.view.enableButton(n.view.bankPayBtnSelector)})}},n.prototype.onBankFormSubmit=function(t){if(t.preventDefault(),e(this.view.bankFormSelector).valid()){this.view.disableButton(this.view.bankPayBtnSelector);var n=this.view.getFormDataObj(this.view.bankFormSelector);n=Object.assign({},n,this.transaction),this.postPaymentDataToServer(new l.BankPaymentRequest(n))}},n}(c.BasePaymentComponent);t.BankFormComponent=h}).call(t,n(0))},function(e,t,n){"use strict";(function(e,r){var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),i=function(t){function n(){var e=t.call(this)||this;return e.bankNameSelector="#js-bf-bankCode",e.accountNumberSelector="#js-bf-accountNumber",e.bankPayBtnSelector="#js-bf-payBtn",e.accountDetailsWrapperSelector="#js-bf-account-details-wrapper",e.bankFormTemplateSelector="#template-bank-form",e}return o(n,t),Object.defineProperty(n.prototype,"bankPaymentForm$",{get:function(){return e(this.bankFormSelector)},enumerable:!0,configurable:!0}),n.prototype.setupBankForm=function(t){var n=r.compile(e(this.bankFormTemplateSelector).html());e(this.paymentFormBodySelector).html(n({transaction:t})),this.setTheme(t)},n.prototype.getAccountDetailSuccessTemplate=function(e){return'\n                <div class="alert alert-success payment-alert" role="alert">\n                        <p class="payment-alert__label">Name on Bank Record</p>\n                        <p class="payment-alert__heading">'+e.accountName+"</p>\n                </div>\n            "},n.prototype.getAccountDetailErrorTemplate=function(){return'\n                <div class="alert alert-danger payment-alert" role="alert">\n                        <p class="payment-alert__label">Please try again</p>\n                        <p class="payment-alert__heading">No Record Found</p>\n                </div>\n            '},n}(a.BaseView);t.BankFormView=i}).call(t,n(0),n(4))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(1),i=n(5),s=n(12),c=n(10),p=n(2),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.postPaymentDataToServer=function(t,n){t.customerId=n.customerId||"",t.channel="bank";var r=new p.PaymentHeaderData(n);return r.accountNumber=t.accountNo,r.bankCode=t.bankCode,e.prototype.postAndExtractHeaderResponse.call(this,o.API_URL.bankPaymentBaseUrl,t,this.getHeaderData(r))},t.prototype.requery=function(t,n){var r=new p.PaymentHeaderData(n);return e.prototype.getPromise.call(this,o.API_URL.paymentRequery+t,{timeout:15e3,headers:this.getHeaderData(r)})},t.prototype.validateCharge=function(t,n){return e.prototype.post.call(this,o.API_URL.chargeValidate,t)},t.prototype.validateTransaction=function(t,n){return e.prototype.get.call(this,o.API_URL.validateTransaction+t,{timeout:15e3})},t.prototype.processPayment=function(t,n,r){return e.prototype.postAndExtractHeaderResponse.call(this,o.API_URL.paymentProcessBaseUrl+t,n,r)},t.prototype.getBanks=function(e){return new Promise(function(t,n){return e&&e.length>0?t(new s.DefaultServiceResponse(c.DefaultResponseCode.Success,"Successful",e)):n(new s.DefaultServiceResponse(c.DefaultResponseCode.Success,"Error fetching bank options"))})},t.prototype.fetchAccountDetails=function(t){var n=new p.PaymentHeaderData;return n.accountNumber=t.accountNumber,n.bankCode=t.bankCode,e.prototype.postWithHeader.call(this,o.API_URL.bankAVS,t,{},this.getHeaderData(n))},t.prototype.getHeaderData=function(e){var t={};return t[o.MERCHANT_HEADER_KEY]=e.key,t[o.TRANSACTION_ID_HEADER_KEY]=e.transactionId,e.bankCode&&e.accountNumber&&(t[o.PAYMENT_ID_HEADER_KEY]=e.bankCode+";"+e.accountNumber),a.UtilService.log("Bank Form => headerData",t),t},t}(i.BaseService);t.BankFormService=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=function(e){function t(t){var n=e.call(this,t)||this;return t&&(n.accountNo=t.accountNo||t.accountNumber||"",n.bankCode=t.bankCode||"",n.transactionId=t.transactionId||"",n.paymentReference=t.paymentReference||"",n.amount=t.amount||"",n.paymentCurrency=t.paymentCurrency||"",n.customerId=t.customerId||"",n.channel=t.channel),n}return r(t,e),t}(o.ExtraPaymentOptionRequest);t.BankPaymentRequest=a},function(e,t,n){"use strict";(function(e){var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(42),a=n(1),i=n(7),s=n(43),c=n(8),p=n(2),l=function(t){function n(){return t.call(this,new s.BranchFormService,new o.BranchFormView)||this}return r(n,t),n.prototype.init=function(e){return a.UtilService.log("transaction branch init",e),this.transaction=e,this.service.headerData=Object.assign({},this.service.headerData,this.service.getHeaderData(new p.PaymentHeaderData(e))),this.setupFormByVersion(e),this},n.prototype.setupFormByVersion=function(e){switch(e.version||i.PaymentSetupVersion.Standard){case i.PaymentSetupVersion.Standard:this.setupBranchForm(),this.initBranchFormEventListeners();break;case i.PaymentSetupVersion.Enterprise:this.view.setupPaymentFormHeader(e)}},n.prototype.setupBranchForm=function(){this.view.setupPaymentFormHeader(this.transaction),this.view.setupBranchForm(this.transaction),this.view.removeLoadingState()},n.prototype.initBranchFormEventListeners=function(){var t=this;e(this.view.branchPrintBtnSelector).on("click",function(e){return t.onPrintInvoice(e)})},n.prototype.onPrintInvoice=function(e){e.preventDefault(),console.log("Invoice Printed")},n}(c.BasePaymentComponent);t.BranchFormComponent=l}).call(t,n(0))},function(e,t,n){"use strict";(function(e,r){var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),i=function(t){function n(){var e=t.call(this)||this;return e.branchRrrSelector="#js-brf-rrr",e.branchPrintBtnSelector="#js-brf-print-invoice",e.branchFormTemplateSelector="#template-branch-form",e}return o(n,t),Object.defineProperty(n.prototype,"branchPaymentForm$",{get:function(){return e(this.branchFormSelector)},enumerable:!0,configurable:!0}),n.prototype.formatRrrString=function(e){return e.replace(/(\d{4})(\d{4})(\d{4})/,"$1-$2-$3")},n.prototype.setupBranchForm=function(t){t.formatedRrr=this.formatRrrString(t.rrr);var n=r.compile(e(this.branchFormTemplateSelector).html());e(this.paymentFormBodySelector).html(n({transaction:t})),this.setTheme(t)},n}(a.BaseView);t.BranchFormView=i}).call(t,n(0),n(4))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(1),i=n(5),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.requery=function(t){return e.prototype.getPromise.call(this,o.API_URL.paymentRequery+t,{timeout:15e3})},t.prototype.getHeaderData=function(e){var t={};return t[o.MERCHANT_HEADER_KEY]=e.key,t[o.TRANSACTION_ID_HEADER_KEY]=e.transactionId,e.bankCode&&e.accountNumber&&(t[o.PAYMENT_ID_HEADER_KEY]=e.bankCode+";"+e.accountNumber),a.UtilService.log("Branch Form => headerData",t),t},t}(i.BaseService);t.BranchFormService=s},function(e,t,n){"use strict";(function(e){var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(45),a=n(1),i=n(7),s=n(46),c=n(8),p=n(47),l=n(2),u=function(t){function n(){return t.call(this,new s.UssdFormService,new o.UssdFormView)||this}return r(n,t),n.prototype.init=function(e){return a.UtilService.log("transaction ussd init",e),this.transaction=e,this.service.headerData=Object.assign({},this.service.headerData,this.service.getHeaderData(new l.PaymentHeaderData(e))),this.setupFormByVersion(e),this},n.prototype.setupFormByVersion=function(e){switch(e.version||i.PaymentSetupVersion.Standard){case i.PaymentSetupVersion.Standard:this.setupUssdForm(),this.initUssdFormEventListeners();break;case i.PaymentSetupVersion.Enterprise:this.view.setupPaymentFormHeader(e),this.postPaymentDataToServer(new p.UssdPaymentRequest(e))}},n.prototype.setupUssdForm=function(){this.view.setupPaymentFormHeader(this.transaction),this.view.setupUssdForm(this.transaction),this.view.removeLoadingState()},n.prototype.initUssdFormEventListeners=function(){var t=this;e(this.view.ussdSelectInputSelector).on("change",function(e){return t.displayShortcode(e)})},n.prototype.displayShortcode=function(t){if(t.preventDefault(),e(this.view.ussdFormSelector).valid()){e("#js-ussd-code .placeholder-image").hide(),this.view.showElement(this.view.loadingSection);var n=this.view.getFormDataObj(this.view.ussdFormSelector);n=Object.assign({},n,this.transaction),this.postPaymentDataToServer(new p.UssdPaymentRequest(n))}},n}(c.BasePaymentComponent);t.UssdFormComponent=u}).call(t,n(0))},function(e,t,n){"use strict";(function(e,r){var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),i=function(t){function n(){var e=t.call(this)||this;return e.ussdFormTemplateSelector="#template-ussd-form",e.ussdSelectInputSelector="#js-ussd-providerList",e}return o(n,t),Object.defineProperty(n.prototype,"ussdPaymentForm$",{get:function(){return e(this.ussdFormSelector)},enumerable:!0,configurable:!0}),n.prototype.setupUssdForm=function(t){var n=r.compile(e(this.ussdFormTemplateSelector).html());e(this.paymentFormBodySelector).html(n({transaction:t})),this.setStandardImgSrc(this.ussdFormSelector),this.setTheme(t)},n}(a.BaseView);t.UssdFormView=i}).call(t,n(0),n(4))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(1),i=n(5),s=n(2),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.postPaymentDataToServer=function(t,n){t.customerId=n.customerId||"",t.channel="ussd";var r=new s.PaymentHeaderData(n);return e.prototype.postAndExtractHeaderResponse.call(this,o.API_URL.ussdCodeBaseUrl,t,this.getHeaderData(r))},t.prototype.requery=function(t,n){var r=new s.PaymentHeaderData(n);return e.prototype.getPromise.call(this,o.API_URL.paymentRequery+t,{timeout:15e3,headers:this.getHeaderData(r)})},t.prototype.validateTransaction=function(t,n){var r=new s.PaymentHeaderData(n);return e.prototype.get.call(this,o.API_URL.validateTransaction+t,{timeout:15e3,headers:this.getHeaderData(r)})},t.prototype.getHeaderData=function(e){var t={};return t[o.MERCHANT_HEADER_KEY]=e.key,t[o.TRANSACTION_ID_HEADER_KEY]=e.transactionId,t[o.PAYMENT_ID_HEADER_KEY]="ussd",a.UtilService.log("USSD Form => headerData",t),t},t}(i.BaseService);t.UssdFormService=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=function(e){function t(t){var n=e.call(this,t)||this;return t&&(n.transactionId=t.transactionId||"",n.paymentReference=t.paymentReference||"",n.amount=t.amount||"",n.paymentCurrency=t.paymentCurrency||"",n.customerId=t.customerId||"",n.ussdType=t.ussdType||"",n.rrr=t.rrr||"",n.channel=t.channel),n}return r(t,e),t}(o.ExtraPaymentOptionRequest);t.UssdPaymentRequest=a},function(e,t,n){"use strict";(function(e){var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(49),a=n(1),i=n(7),s=n(50),c=n(8),p=n(51),l=n(2),u=function(t){function n(){return t.call(this,new s.QrFormService,new o.QrFormView)||this}return r(n,t),n.prototype.init=function(e){return a.UtilService.log("transaction QR init",e),this.transaction=e,this.service.headerData=Object.assign({},this.service.headerData,this.service.getHeaderData(new l.PaymentHeaderData(e))),this.setupFormByVersion(e),this},n.prototype.setupFormByVersion=function(e){switch(e.version||i.PaymentSetupVersion.Standard){case i.PaymentSetupVersion.Standard:this.setupQrForm(),this.initQrFormEventListeners();break;case i.PaymentSetupVersion.Enterprise:this.view.setupPaymentFormHeader(e),this.postPaymentDataToServer(new p.QrPaymentRequest(e))}},n.prototype.setupQrForm=function(){this.view.setupPaymentFormHeader(this.transaction),this.view.setupQrForm(this.transaction),this.view.removeLoadingState()},n.prototype.initQrFormEventListeners=function(){var t=this;e(this.view.qrSelectInputSelector).on("change",function(e){return t.displayQrcode(e)})},n.prototype.displayQrcode=function(t){if(t.preventDefault(),e(this.view.qrFormSelector).valid()){e("#js-qr-code .placeholder-image").hide(),this.view.showElement(this.view.loadingSection);var n=this.view.getFormDataObj(this.view.qrFormSelector);n=Object.assign({},n,this.transaction),this.postPaymentDataToServer(new p.QrPaymentRequest(n))}},n}(c.BasePaymentComponent);t.QrFormComponent=u}).call(t,n(0))},function(e,t,n){"use strict";(function(e,r){var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),i=function(t){function n(){var e=t.call(this)||this;return e.qrFormTemplateSelector="#template-qr-form",e.qrSelectInputSelector="#js-qr-providerList",e}return o(n,t),Object.defineProperty(n.prototype,"qrPaymentForm$",{get:function(){return e(this.qrFormSelector)},enumerable:!0,configurable:!0}),n.prototype.setupQrForm=function(t){var n=r.compile(e(this.qrFormTemplateSelector).html());e(this.paymentFormBodySelector).html(n({transaction:t})),this.setStandardImgSrc(this.qrFormSelector),this.setTheme(t)},n}(a.BaseView);t.QrFormView=i}).call(t,n(0),n(4))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(1),i=n(5),s=n(2),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.postPaymentDataToServer=function(t,n){t.customerId=n.customerId||"",t.channel="qr";var r=new s.PaymentHeaderData(n);return e.prototype.postAndExtractHeaderResponse.call(this,o.API_URL.qrCodeBaseUrl,t,this.getHeaderData(r))},t.prototype.requery=function(t,n){var r=new s.PaymentHeaderData(n);return e.prototype.getPromise.call(this,o.API_URL.paymentRequery+t,{timeout:15e3,headers:this.getHeaderData(r)})},t.prototype.validateTransaction=function(t,n){var r=new s.PaymentHeaderData(n);return e.prototype.get.call(this,o.API_URL.validateTransaction+t,{timeout:15e3,headers:this.getHeaderData(r)})},t.prototype.getHeaderData=function(e){var t={};return t[o.MERCHANT_HEADER_KEY]=e.key,t[o.TRANSACTION_ID_HEADER_KEY]=e.transactionId,t[o.PAYMENT_ID_HEADER_KEY]="qr",a.UtilService.log("QR Form => headerData",t),t},t}(i.BaseService);t.QrFormService=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=function(e){function t(t){var n=e.call(this,t)||this;return t&&(n.transactionId=t.transactionId||"",n.paymentReference=t.paymentReference||"",n.amount=t.amount||"",n.paymentCurrency=t.paymentCurrency||"",n.customerId=t.customerId||"",n.qrType=t.qrType||"",n.rrr=t.rrr||"",n.channel=t.channel),n}return r(t,e),t}(o.ExtraPaymentOptionRequest);t.QrPaymentRequest=a},function(e,t,n){"use strict";(function(e){var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(53),a=n(54),i=n(1),s=n(7),c=n(8),p=n(55),l=n(2),u=function(t){function n(){return t.call(this,new o.IbankFormService,new a.IbankFormView)||this}return r(n,t),n.prototype.init=function(e){return i.UtilService.log("transaction ibank init",e),this.transaction=e,this.service.headerData=Object.assign({},this.service.headerData,this.service.getHeaderData(new l.PaymentHeaderData(this.transaction))),this.setupFormByVersion(this.transaction),this},n.prototype.setupFormByVersion=function(e){switch(e.version||s.PaymentSetupVersion.Standard){case s.PaymentSetupVersion.Standard:this.setupIbankForm(),this.initIbankFormEventListeners();break;case s.PaymentSetupVersion.Enterprise:this.view.setupPaymentFormHeader(e),this.postPaymentDataToServer(new p.IbankPaymentRequest(e))}},n.prototype.setupIbankForm=function(){this.view.setupPaymentFormHeader(this.transaction),this.view.setupIbankForm(this.transaction),this.view.removeLoadingState()},n.prototype.initIbankFormEventListeners=function(){var t=this;e(this.view.ibankPayBtnSelector).on("click",function(e){return t.onIbankFormSubmit(e)})},n.prototype.onIbankFormSubmit=function(t){if(t.preventDefault(),e(this.view.ibankFormSelector).valid()){this.view.disableButton(this.view.ibankPayBtnSelector);var n=this.view.getFormDataObj(this.view.ibankFormSelector);n=Object.assign({},n,this.transaction),this.postPaymentDataToServer(new p.IbankPaymentRequest(n))}},n}(c.BasePaymentComponent);t.IbankFormComponent=u}).call(t,n(0))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=n(3),i=n(1),s=n(2),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.postPaymentDataToServer=function(t,n){t.customerId=n.customerId||"",t.channel="ibank";var r=new s.PaymentHeaderData(n);return e.prototype.postAndExtractHeaderResponse.call(this,a.API_URL.ibankCodeBaseUrl,t,this.getHeaderData(r))},t.prototype.requery=function(t,n){var r=new s.PaymentHeaderData(n);return e.prototype.getPromise.call(this,a.API_URL.paymentRequeryStatus+t,{timeout:15e3,headers:this.getHeaderData(r)})},t.prototype.validateTransaction=function(t,n){var r=new s.PaymentHeaderData(n);return e.prototype.get.call(this,a.API_URL.validateTransaction+t,{timeout:15e3,headers:this.getHeaderData(r)})},t.prototype.processPayment=function(t,n,r){return e.prototype.postAndExtractHeaderResponse.call(this,a.API_URL.paymentProcessBaseUrl+t,n,r)},t.prototype.getHeaderData=function(e){var t={};return t[a.MERCHANT_HEADER_KEY]=e.key,t[a.TRANSACTION_ID_HEADER_KEY]=e.transactionId,t[a.PAYMENT_ID_HEADER_KEY]="ibank",i.UtilService.log("Ibank Form => headerData",t),t},t}(o.BaseService);t.IbankFormService=c},function(e,t,n){"use strict";(function(e,r){var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),i=function(t){function n(){var e=t.call(this)||this;return e.ibankFormTemplateSelector="#template-ibank-form",e.ibankSelectInputSelector="#js-ibank-providerList",e.ibankPayBtnSelector="#js-ibank-payBtn",e}return o(n,t),Object.defineProperty(n.prototype,"paymentForm$",{get:function(){return e(this.ibankFormSelector)},enumerable:!0,configurable:!0}),n.prototype.setupIbankForm=function(t){var n=r.compile(e(this.ibankFormTemplateSelector).html());e(this.paymentFormBodySelector).html(n({transaction:t})),this.setTheme(t)},n}(a.BaseView);t.IbankFormView=i}).call(t,n(0),n(4))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=function(e){function t(t){var n=e.call(this,t)||this;return t&&(n.paymentReference=t.paymentReference||"",n.transactionId=t.transactionId||"",n.amount=t.amount||"",n.paymentCurrency=t.paymentCurrency||"",n.customerId=t.customerId||"",n.pin=t.pin||"",n.bankCode=t.ibankType||"",n.channel=t.channel),n}return r(t,e),t}(o.ExtraPaymentOptionRequest);t.IbankPaymentRequest=a},function(e,t,n){"use strict";(function(e){var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(57),a=n(1),i=n(7),s=n(58),c=n(8),p=n(10),l=n(59),u=n(2),h=function(t){function n(){return t.call(this,new s.CreditFormService,new o.CreditFormView)||this}return r(n,t),n.prototype.init=function(e){return a.UtilService.log("transaction credit init",e),this.transaction=e,this.service.headerData=Object.assign({},this.service.headerData,this.service.getHeaderData(new u.PaymentHeaderData(e))),this.setupFormByVersion(e),this},n.prototype.setupCreditForm=function(){this.view.setupPaymentFormHeader(this.transaction),this.view.setupCreditForm(this.transaction),this.view.removeLoadingState(),this.setupBanks()},n.prototype.setupBanks=function(){var e=this;this.service.getBanks(this.transaction.availableBanks).then(function(t){t.responseCode===p.DefaultResponseCode.Success&&(t.responseData&&t.responseData.length>0?e.view.setBankOptions(e.view.creditNameSelector,t.responseData):e.view.displayErrorMessage(t.responseMsg))},function(t){return e.view.displayErrorMessage(t.message||null)})},n.prototype.initCreditFormEventListeners=function(){var t=this;e(this.view.paymentFormContainerSelector).on("click",this.view.creditTermsAgreeButton,function(e){return t.onReadyForCreditFormSubmit(e)}),e(this.view.paymentFormContainerSelector).on("click",this.view.creditTermsCancelButton,function(e){return t.onCancelForCreditFormSubmit(e)}),e(this.view.creditFormSelector).on("submit",function(e){return t.onCreditFormSubmit(e)}),e(this.view.creditNameSelector).on("change",function(e){return t.onCreditNameChange(e)})},n.prototype.initPaymentMethods=function(){e("[data-numeric]").payment("restrictNumeric")},n.prototype.initCreditFormValidation=function(){var e={rules:{accountNumber:{required:!0,digits:!0,minlength:9},bankCode:{required:!0}},messages:{accountNumber:{required:"Account Number is required"},bankCode:{required:"Bank Name is required"}}};this.validator=this.view.initValidation(this.view.creditFormSelector,e)},n.prototype.setupFormByVersion=function(e){switch(e.version||i.PaymentSetupVersion.Standard){case i.PaymentSetupVersion.Standard:this.setupCreditForm(),this.initCreditFormEventListeners(),this.initCreditFormValidation(),this.initPaymentMethods();break;case i.PaymentSetupVersion.Enterprise:this.view.setupPaymentFormHeader(e),this.postPaymentDataToServer(new l.CreditPaymentRequest(e))}},n.prototype.onCreditNameChange=function(t){var n=this;if(e(this.view.creditFormSelector).valid()){this.view.disableButton(this.view.creditPayBtnSelector);var r=this.view.getFormDataObj(this.view.creditFormSelector);this.service.fetchAccountDetails(r).then(function(t){var r;r=t.responseCode===p.DefaultResponseCode.Success&&t.responseData&&t.responseData.length>0?n.view.getAccountDetailSuccessTemplate(t.responseData[0]):n.view.getAccountDetailErrorTemplate(),e(n.view.accountDetailsWrapperSelector).show().html(r),n.view.enableButton(n.view.creditPayBtnSelector)},function(e){a.UtilService.log("An error occurred while fetching credit details",e),n.view.showErrorMessage(),n.view.enableButton(n.view.creditPayBtnSelector)})}},n.prototype.onReadyForCreditFormSubmit=function(e){this.view.disableButton(this.view.creditTermsAgreeButton),this.view.disableButton(this.view.creditTermsCancelButton),this.postPaymentDataToServer(new l.CreditPaymentRequest(this.CreditData))},n.prototype.onCancelForCreditFormSubmit=function(e){this.view.disableButton(this.view.creditTermsAgreeButton),this.view.disableButton(this.view.creditTermsCancelButton),this.init(this.transaction)},n.prototype.onCreditFormSubmit=function(t){if(t.preventDefault(),e(this.view.creditFormSelector).valid()){this.view.disableButton(this.view.creditPayBtnSelector);var n=this.view.getFormDataObj(this.view.creditFormSelector);this.CreditData=Object.assign({},n,this.transaction),this.view.showTermTemplate(this.transaction)}},n}(c.BasePaymentComponent);t.CreditFormComponent=h}).call(t,n(0))},function(e,t,n){"use strict";(function(e,r){var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),i=function(t){function n(){var e=t.call(this)||this;return e.creditNameSelector="#js-bcf-creditCode",e.accountNumberSelector="#js-bcf-accountNumber",e.creditPayBtnSelector="#js-bcf-payBtn",e.accountDetailsWrapperSelector="#js-bcf-account-details-wrapper",e.creditFormTemplateSelector="#template-credit-form",e.creditTermsTemplate="#credit-terms-template",e.creditTermsAgreeButton="#js-bcf-agreement",e.creditTermsCancelButton="#js-cancel-bcf-agreement",e}return o(n,t),Object.defineProperty(n.prototype,"creditPaymentForm$",{get:function(){return e(this.creditFormSelector)},enumerable:!0,configurable:!0}),n.prototype.setupCreditForm=function(t){var n=r.compile(e(this.creditFormTemplateSelector).html());e(this.paymentFormBodySelector).html(n({transaction:t})),this.setTheme(t)},n.prototype.showTermTemplate=function(t){var n=r.compile(e(this.creditTermsTemplate).html());e(this.paymentFormBodySelector).html(n({transaction:t}))},n.prototype.getAccountDetailSuccessTemplate=function(e){return'\n                <div class="alert alert-success payment-alert" role="alert">\n                        <p class="payment-alert__label">Name on Bank Record</p>\n                        <p class="payment-alert__heading">'+e.accountName+"</p>\n                </div>\n            "},n.prototype.getAccountDetailErrorTemplate=function(){return'\n                <div class="alert alert-danger payment-alert" role="alert">\n                        <p class="payment-alert__label">Please try again</p>\n                        <p class="payment-alert__heading">No Record Found</p>\n                </div>\n            '},n}(a.BaseView);t.CreditFormView=i}).call(t,n(0),n(4))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(1),i=n(5),s=n(12),c=n(10),p=n(2),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.postPaymentDataToServer=function(t,n){t.customerId=n.customerId||"",t.channel="buyoncredit";var r=new p.PaymentHeaderData(n);return r.accountNumber=t.accountNo,r.bankCode=t.bankCode,e.prototype.postAndExtractHeaderResponse.call(this,o.API_URL.creditPaymentBaseUrl,t,this.getHeaderData(r))},t.prototype.requery=function(t,n){var r=new p.PaymentHeaderData(n);return e.prototype.getPromise.call(this,o.API_URL.paymentRequery+t,{timeout:15e3,headers:this.getHeaderData(r)})},t.prototype.validateCharge=function(t,n){return e.prototype.post.call(this,o.API_URL.chargeValidate,t)},t.prototype.validateTransaction=function(t,n){return e.prototype.get.call(this,o.API_URL.validateTransaction+t,{timeout:15e3})},t.prototype.processPayment=function(t,n,r){return e.prototype.postAndExtractHeaderResponse.call(this,o.API_URL.paymentProcessBaseUrl+t,n,r)},t.prototype.getBanks=function(e){return new Promise(function(t,n){return e&&e.length>0?t(new s.DefaultServiceResponse(c.DefaultResponseCode.Success,"Successful",e)):n(new s.DefaultServiceResponse(c.DefaultResponseCode.Success,"Error fetching bank options"))})},t.prototype.fetchAccountDetails=function(t){var n=new p.PaymentHeaderData;return n.accountNumber=t.accountNumber,n.bankCode=t.bankCode,e.prototype.postWithHeader.call(this,o.API_URL.bankAVS,t,{},this.getHeaderData(n))},t.prototype.getHeaderData=function(e){var t={};return t[o.MERCHANT_HEADER_KEY]=e.key,t[o.TRANSACTION_ID_HEADER_KEY]=e.transactionId,t[o.PAYMENT_ID_HEADER_KEY]="buyoncredit",a.UtilService.log("Buy on Credit Form => headerData",t),t},t}(i.BaseService);t.CreditFormService=l},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=function(e){function t(t){var n=e.call(this,t)||this;return t&&(n.accountNo=t.accountNo||t.accountNumber||"",n.bankCode=t.bankCode||"",n.transactionId=t.transactionId||"",n.paymentReference=t.paymentReference||"",n.amount=t.amount||"",n.paymentCurrency=t.paymentCurrency||"",n.customerId=t.customerId||"",n.channel=t.channel,n.extendedData=t.extendedData||"",n.phoneNumber=t.phoneNumber||""),n}return r(t,e),t}(o.ExtraPaymentOptionRequest);t.CreditPaymentRequest=a},function(e,t,n){"use strict";(function(e){var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(61),a=n(62),i=n(1),s=n(7),c=n(8),p=n(63),l=n(2),u=function(t){function n(){return t.call(this,new o.WalletFormService,new a.WalletFormView)||this}return r(n,t),n.prototype.init=function(e){return i.UtilService.log("transaction wallet init",e),this.transaction=e,this.service.headerData=Object.assign({},this.service.headerData,this.service.getHeaderData(new l.PaymentHeaderData(this.transaction))),this.setupFormByVersion(this.transaction),this},n.prototype.setupFormByVersion=function(e){switch(e.version||s.PaymentSetupVersion.Standard){case s.PaymentSetupVersion.Standard:this.setupWalletForm(),this.initWalletFormEventListeners();break;case s.PaymentSetupVersion.Enterprise:this.view.setupPaymentFormHeader(e),this.postPaymentDataToServer(new p.WalletPaymentRequest(e))}},n.prototype.setupWalletForm=function(){this.view.setupPaymentFormHeader(this.transaction),this.view.setupWalletForm(this.transaction),this.view.removeLoadingState()},n.prototype.initWalletFormEventListeners=function(){var t=this;e(this.view.walletPayBtnSelector).on("click",function(e){return t.onWalletFormSubmit(e)})},n.prototype.onWalletFormSubmit=function(t){if(t.preventDefault(),e(this.view.walletFormSelector).valid()){this.view.disableButton(this.view.walletPayBtnSelector);var n=this.view.getFormDataObj(this.view.walletFormSelector);n=Object.assign({},n,this.transaction),this.postPaymentDataToServer(new p.WalletPaymentRequest(n))}},n}(c.BasePaymentComponent);t.WalletFormComponent=u}).call(t,n(0))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),a=n(3),i=n(1),s=n(2),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.postPaymentDataToServer=function(t,n){t.customerId=n.customerId||"",t.channel="wallet";var r=new s.PaymentHeaderData(n);return e.prototype.postAndExtractHeaderResponse.call(this,a.API_URL.walletCodeBaseUrl,t,this.getHeaderData(r))},t.prototype.requery=function(t,n){var r=new s.PaymentHeaderData(n);return e.prototype.getPromise.call(this,a.API_URL.paymentRequeryStatus+t,{timeout:15e3,headers:this.getHeaderData(r)})},t.prototype.validateTransaction=function(t,n){var r=new s.PaymentHeaderData(n);return e.prototype.get.call(this,a.API_URL.validateTransaction+t,{timeout:15e3,headers:this.getHeaderData(r)})},t.prototype.processPayment=function(t,n,r){return e.prototype.postAndExtractHeaderResponse.call(this,a.API_URL.paymentProcessBaseUrl+t,n,r)},t.prototype.getHeaderData=function(e){var t={};return t[a.MERCHANT_HEADER_KEY]=e.key,t[a.TRANSACTION_ID_HEADER_KEY]=e.transactionId,t[a.PAYMENT_ID_HEADER_KEY]="wallet",i.UtilService.log("Wallet Form => headerData",t),t},t}(o.BaseService);t.WalletFormService=c},function(e,t,n){"use strict";(function(e,r){var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),i=function(t){function n(){var e=t.call(this)||this;return e.walletFormTemplateSelector="#template-wallet-form",e.walletSelectInputSelector="#js-wallet-providerList",e.walletPayBtnSelector="#js-wallet-payBtn",e}return o(n,t),Object.defineProperty(n.prototype,"paymentForm$",{get:function(){return e(this.walletFormSelector)},enumerable:!0,configurable:!0}),n.prototype.setupWalletForm=function(t){var n=r.compile(e(this.walletFormTemplateSelector).html());e(this.paymentFormBodySelector).html(n({transaction:t})),this.setTheme(t)},n}(a.BaseView);t.WalletFormView=i}).call(t,n(0),n(4))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),a=function(e){function t(t){var n=e.call(this,t)||this;return t&&(n.paymentReference=t.paymentReference||"",n.transactionId=t.transactionId||"",n.amount=t.amount||"",n.paymentCurrency=t.paymentCurrency||"",n.customerId=t.customerId||"",n.pin=t.pin||"",n.gateWay=t.walletType||"",n.channel=t.channel),n}return r(t,e),t}(o.ExtraPaymentOptionRequest);t.WalletPaymentRequest=a},function(e,t,n){"use strict";function r(e){return!!e&&"object"==typeof e}function o(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||a(e)}function a(e){return e.$$typeof===f}function i(e){return Array.isArray(e)?[]:{}}function s(e,t){return!1!==t.clone&&t.isMergeableObject(e)?m(i(e),e,t):e}function c(e,t,n){return e.concat(t).map(function(e){return s(e,n)})}function p(e,t){if(!t.customMerge)return m;var n=t.customMerge(e);return"function"==typeof n?n:m}function l(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}function u(e){return Object.keys(e).concat(l(e))}function h(e,t,n){var r={};return n.isMergeableObject(e)&&u(e).forEach(function(t){r[t]=s(e[t],n)}),u(t).forEach(function(o){n.isMergeableObject(t[o])&&e[o]?r[o]=p(o,n)(e[o],t[o],n):r[o]=s(t[o],n)}),r}function m(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||c,n.isMergeableObject=n.isMergeableObject||d;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):h(e,t,n):s(t,n)}var d=function(e){return r(e)&&!o(e)},y="function"==typeof Symbol&&Symbol.for,f=y?Symbol.for("react.element"):60103;m.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return m(e,n,t)},{})};var v=m;e.exports=v}],[18]);